<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Quinoa: /tmp/q/quinoa/src/Inciter/Conductor.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/SVG"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="quinoa.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Quinoa
   </div>
   <div id="projectbrief">Adaptive computational fluid dynamics</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Documents</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_conductor_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a>  </div>
  <div class="headertitle">
<div class="title">Conductor.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Conductor drives the time integration of systems of systems of PDEs.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;map&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &lt;unordered_map&gt;</code><br />
<code>#include &lt;unordered_set&gt;</code><br />
<code>#include &quot;<a class="el" href="_timer_8h_source.html">Timer.h</a>&quot;</code><br />
<code>#include &quot;Types.h&quot;</code><br />
<code>#include &quot;<a class="el" href="_inciter_print_8h_source.html">InciterPrint.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_vector_reducer_8h_source.html">VectorReducer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="performer_8decl_8h_source.html">NoWarning/performer.decl.h</a>&quot;</code><br />
</div>
<p><a href="_conductor_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_conductor.html">inciter::Conductor</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classinciter_1_1_conductor.html" title="Conductor drives the time integration of a PDE. ">Conductor</a> drives the time integration of a <a class="el" href="classinciter_1_1_p_d_e.html" title="Partial differential equation. ">PDE</a>.  <a href="classinciter_1_1_conductor.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespaceinciter"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceinciter.html">inciter</a></td></tr>
<tr class="memdesc:namespaceinciter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inciter declarations and definitions. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Conductor drives the time integration of systems of systems of PDEs. </p>
<dl class="section author"><dt>Author</dt><dd>J. Bakosi </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Mon 25 Jul 2016 11:06:00 AM MDT </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>2012-2015, Jozsef Bakosi, 2016, Los Alamos National Security, LLC.</dd></dl>
<p>Conductor drives the time integration of systems of systems of PDEs.</p>
<p>The implementation uses the Charm++ runtime system and is fully asynchronous, overlapping computation and communication. The algorithm utilizes the structured dagger (SDAG) Charm++ functionality. The high-level overview of the algorithm structure and how it interfaces with Charm++ is discussed in the Charm++ interface file <a class="el" href="conductor_8ci.html">src/Inciter/conductor.ci</a>.</p>
<h4>Call graph</h4>
<p>The following is a directed acyclic graph (DAG) that outlines the asynchronous algorithm implemented in this class The detailed discussion of the algorithm is given in the Charm++ interface file <a class="el" href="conductor_8ci.html">conductor.ci</a>, which also repeats the graph below using ASCII graphics. On the DAG orange fills denote global synchronization points, orange frames with white fill are partial synchronization points that overlap with other tasks, and dashed lines are potential shortcuts that allow jumping over some of the task-graph under some circumstances or optional code paths (taken, e.g., only in DEBUG mode). See the detailed discussion in <a class="el" href="conductor_8ci.html">conductor.ci</a>. </p><div align="center">
<iframe scrolling="no" frameborder="0" src="dot_inline_dotgraph_1.svg" width="203" height="134"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
 <div class="fragment"><div class="line">// *****************************************************************************</div><div class="line">/*!</div><div class="line">  \file      src/Inciter/conductor.ci</div><div class="line">  \author    J. Bakosi</div><div class="line">  \date      Fri 22 Jul 2016 12:13:00 PM MDT</div><div class="line">  \copyright 2012-2015, Jozsef Bakosi, 2016, Los Alamos National Security, LLC.</div><div class="line">  \brief     Charm++ module interface file for Conductor</div><div class="line">  \details   Charm++ module interface file for Conductor</div><div class="line">*/</div><div class="line">// *****************************************************************************</div><div class="line"></div><div class="line">module conductor {</div><div class="line"></div><div class="line">  extern module linsysmerger;</div><div class="line">  extern module partitioner;</div><div class="line"></div><div class="line">  namespace inciter {</div><div class="line"></div><div class="line">    chare Conductor {</div><div class="line">      entry Conductor();</div><div class="line">      entry [reductiontarget] void load( uint64_t nelem );</div><div class="line">      entry [reductiontarget] void partition();</div><div class="line">      entry [reductiontarget] void flattened();</div><div class="line">      entry [reductiontarget] void setup();</div><div class="line">      entry [reductiontarget] void aveCost( tk::real c );</div><div class="line">      entry [reductiontarget] void stdCost( tk::real c );</div><div class="line">      entry [reductiontarget] void rowcomplete();</div><div class="line">      entry [reductiontarget] void verifybc( CkReductionMsg* msg );</div><div class="line">      entry [reductiontarget] void doverifybc( CkReductionMsg* msg );</div><div class="line">      entry [reductiontarget] void initcomplete();</div><div class="line">      entry [reductiontarget] void diagnostics( tk::real d[n], std::size_t n );</div><div class="line">      entry [reductiontarget] void diagcomplete();</div><div class="line">      entry [reductiontarget] void evaluateTime();</div><div class="line">      entry [reductiontarget] void advance();</div><div class="line">      entry [reductiontarget] void finish();</div><div class="line"></div><div class="line">      // SDAG code follows. See http://charm.cs.illinois.edu/manuals/html/</div><div class="line">      // charm++/manual.html, Sec. &quot;Structured Control Flow: Structured Dagger&quot;.</div><div class="line"></div><div class="line">      // High-level overview of the dependency and asynchronous call structure</div><div class="line">      // ---------------------------------------------------------------------</div><div class="line">      //</div><div class="line">      // Directed Acyclic Graph (DAG):</div><div class="line">      // -----------------------------</div><div class="line">      //                                        DAG legend:</div><div class="line">      //  Diag -- Rep                             Diag - compute diagnostics</div><div class="line">      //         /                                Eval - evlaute time step</div><div class="line">      //  Eval --                                 Rep - Output one-liner report</div><div class="line">      //</div><div class="line">      // Interpretation of the above DAG</div><div class="line">      // -------------------------------</div><div class="line">      // Control flow is from left to right and top to bottom.</div><div class="line">      //</div><div class="line">      // Outputing a one-liner report (Rep) can only be done if both the</div><div class="line">      // diagnostics have been collected (Diag) as well as the time step has</div><div class="line">      // been evaluated (Eval). The report is only output at the final time step</div><div class="line">      // stage. Collecting diagnostics if optional, i.e., it does not happen</div><div class="line">      // every time step. If diagnostics are collected trigger_diag_complete()</div><div class="line">      // is signaled from the reduction target, Conductor::diagnostics(). If</div><div class="line">      // diagnostics are not collected in a time step, collection is skipped,</div><div class="line">      // and trigger_diag_complete() is signaled from the shortcut function,</div><div class="line">      // Conductor::diagcomplete(). Either way, the above DAG and its logic</div><div class="line">      // remains the same.</div><div class="line"></div><div class="line">      entry void wait4report()</div><div class="line">      { when trigger_diag_complete(), trigger_eval_complete() serial &quot;eval&quot;</div><div class="line">        { if (m_stage == 1) report(); } };</div><div class="line"></div><div class="line">      entry void trigger_diag_complete();</div><div class="line">      entry void trigger_eval_complete();</div><div class="line">    }</div><div class="line"></div><div class="line">  } // inciter::</div><div class="line"></div><div class="line">}</div></div><!-- fragment --> 
<p>Definition in file <a class="el" href="_conductor_8h_source.html">Conductor.h</a>.</p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_606df7a4664720c111e6e5b0e11c4e03.html">Inciter</a></li><li class="navelem"><a class="el" href="_conductor_8h.html">Conductor.h</a></li>
    <li class="footer">Generated on Wed Aug 10 2016 04:15:04 for Quinoa by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
