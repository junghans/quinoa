<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Quinoa: inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/SVG"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="quinoa.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Quinoa
   </div>
   <div id="projectbrief">Adaptive computational fluid dynamics</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Documents</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classinciter_1_1_partitioner.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classinciter_1_1_partitioner-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner__inherit__graph.svg" width="198" height="163"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9e134a9f04eedf3861f28b09930c29f6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a9e134a9f04eedf3861f28b09930c29f6">Partitioner</a> (const HostProxy &amp;host, const WorkerProxy &amp;worker, const LinSysMergerProxy &amp;lsm)</td></tr>
<tr class="separator:a9e134a9f04eedf3861f28b09930c29f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a869f31be724296cfe06cb04674953206"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a869f31be724296cfe06cb04674953206">partition</a> (int nchare)</td></tr>
<tr class="separator:a869f31be724296cfe06cb04674953206"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60d7b43f03871915ab676bbd2ce552db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a60d7b43f03871915ab676bbd2ce552db">offset</a> (int <a class="el" href="classinciter_1_1_partitioner.html#ae910cfcec84dc903e4245f046b2acf3c">pe</a>, std::size_t u)</td></tr>
<tr class="separator:a60d7b43f03871915ab676bbd2ce552db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90a91e736ee0d6cdcd50311393c9fa8e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a90a91e736ee0d6cdcd50311393c9fa8e">request</a> (int <a class="el" href="classinciter_1_1_partitioner.html#ae910cfcec84dc903e4245f046b2acf3c">pe</a>, const std::set&lt; std::size_t &gt; &amp;id)</td></tr>
<tr class="separator:a90a91e736ee0d6cdcd50311393c9fa8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fe4822b4e5be71ff70403b260140c0c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a2fe4822b4e5be71ff70403b260140c0c">neworder</a> (const std::unordered_map&lt; std::size_t, std::size_t &gt; &amp;id)</td></tr>
<tr class="separator:a2fe4822b4e5be71ff70403b260140c0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3413a4e0b4bfa83eaa24e9a728849384"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a3413a4e0b4bfa83eaa24e9a728849384">add</a> (int frompe, const std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt; &amp;n)</td></tr>
<tr class="separator:a3413a4e0b4bfa83eaa24e9a728849384"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07dd9baf853b2827a2861a3ffc2cef68"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a07dd9baf853b2827a2861a3ffc2cef68">recv</a> ()</td></tr>
<tr class="memdesc:a07dd9baf853b2827a2861a3ffc2cef68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acknowledge received node IDs.  <a href="#a07dd9baf853b2827a2861a3ffc2cef68">More...</a><br /></td></tr>
<tr class="separator:a07dd9baf853b2827a2861a3ffc2cef68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1efc884c6d615bfa0df4ac0436d7dfe4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a1efc884c6d615bfa0df4ac0436d7dfe4">lower</a> (std::size_t low)</td></tr>
<tr class="separator:a1efc884c6d615bfa0df4ac0436d7dfe4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec25b4cd2e43a0232f2864dc5e79979d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#aec25b4cd2e43a0232f2864dc5e79979d">stdCost</a> (<a class="el" href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575">tk::real</a> av)</td></tr>
<tr class="memdesc:aec25b4cd2e43a0232f2864dc5e79979d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the variance of the communication cost of merging the linear system.  <a href="#aec25b4cd2e43a0232f2864dc5e79979d">More...</a><br /></td></tr>
<tr class="separator:aec25b4cd2e43a0232f2864dc5e79979d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abca9296b267bf81197dd9b82c62d607d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#abca9296b267bf81197dd9b82c62d607d">gather</a> ()</td></tr>
<tr class="memdesc:abca9296b267bf81197dd9b82c62d607d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start gathering global node IDs this PE will need to receive (instead of assign) during reordering.  <a href="#abca9296b267bf81197dd9b82c62d607d">More...</a><br /></td></tr>
<tr class="separator:abca9296b267bf81197dd9b82c62d607d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b9ec47eef76e0a7b8a684616326be09"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a7b9ec47eef76e0a7b8a684616326be09">query</a> (int <a class="el" href="classinciter_1_1_partitioner.html#ae910cfcec84dc903e4245f046b2acf3c">pe</a>, const std::vector&lt; std::size_t &gt; &amp;id)</td></tr>
<tr class="memdesc:a7b9ec47eef76e0a7b8a684616326be09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query our global node IDs by other PEs so they know if they receive IDs for those from during reordering.  <a href="#a7b9ec47eef76e0a7b8a684616326be09">More...</a><br /></td></tr>
<tr class="separator:a7b9ec47eef76e0a7b8a684616326be09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e4a159187908a958f046dde7d7c2c40"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a0e4a159187908a958f046dde7d7c2c40">mask</a> (int <a class="el" href="classinciter_1_1_partitioner.html#ae910cfcec84dc903e4245f046b2acf3c">pe</a>, const std::vector&lt; int &gt; &amp;rec)</td></tr>
<tr class="separator:a0e4a159187908a958f046dde7d7c2c40"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a86cb69c9ddd90fae7d0ad56ee16ada30"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a86cb69c9ddd90fae7d0ad56ee16ada30">Group</a> = CBase_Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;</td></tr>
<tr class="separator:a86cb69c9ddd90fae7d0ad56ee16ada30"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a884d00574a0ad67a46bdc40f4bbe16de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a884d00574a0ad67a46bdc40f4bbe16de">readGraph</a> (<a class="el" href="classtk_1_1_exodus_i_i_mesh_reader.html">tk::ExodusIIMeshReader</a> &amp;er)</td></tr>
<tr class="separator:a884d00574a0ad67a46bdc40f4bbe16de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56828dface8231481b0e74bf30795be6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a56828dface8231481b0e74bf30795be6">computeCentroids</a> (<a class="el" href="classtk_1_1_exodus_i_i_mesh_reader.html">tk::ExodusIIMeshReader</a> &amp;er)</td></tr>
<tr class="separator:a56828dface8231481b0e74bf30795be6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61cbe90a4acc00a6874fd0aedc743377"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a61cbe90a4acc00a6874fd0aedc743377">chareNodes</a> (const std::vector&lt; std::size_t &gt; &amp;che) const </td></tr>
<tr class="separator:a61cbe90a4acc00a6874fd0aedc743377"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a754ec2ed241b9ec78b01b84e270df254"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a754ec2ed241b9ec78b01b84e270df254">distribute</a> (std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt; &amp;&amp;n)</td></tr>
<tr class="separator:a754ec2ed241b9ec78b01b84e270df254"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5d8fc6bfcf39a2a4bf7414df3a8fff8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#ac5d8fc6bfcf39a2a4bf7414df3a8fff8">flatten</a> ()</td></tr>
<tr class="memdesc:ac5d8fc6bfcf39a2a4bf7414df3a8fff8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare owned mesh node IDs for reordering.  <a href="#ac5d8fc6bfcf39a2a4bf7414df3a8fff8">More...</a><br /></td></tr>
<tr class="separator:ac5d8fc6bfcf39a2a4bf7414df3a8fff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e96c88d1373b6c3c878022a7b428ff0"><td class="memItemLeft" align="right" valign="top">std::pair&lt; int, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a9e96c88d1373b6c3c878022a7b428ff0">chareDistribution</a> () const </td></tr>
<tr class="separator:a9e96c88d1373b6c3c878022a7b428ff0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6d964a5217ec2a9f48440343b04842e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#ae6d964a5217ec2a9f48440343b04842e">reorder</a> ()</td></tr>
<tr class="memdesc:ae6d964a5217ec2a9f48440343b04842e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reorder global mesh node IDs.  <a href="#ae6d964a5217ec2a9f48440343b04842e">More...</a><br /></td></tr>
<tr class="separator:ae6d964a5217ec2a9f48440343b04842e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad86702672127c44131db862907418b18"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#ad86702672127c44131db862907418b18">recvnodes</a> () const </td></tr>
<tr class="separator:ad86702672127c44131db862907418b18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae910cfcec84dc903e4245f046b2acf3c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#ae910cfcec84dc903e4245f046b2acf3c">pe</a> (int id) const </td></tr>
<tr class="separator:ae910cfcec84dc903e4245f046b2acf3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe58d4fc6a9ecabf3448b3b7fe1e1f35"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#afe58d4fc6a9ecabf3448b3b7fe1e1f35">prepare</a> ()</td></tr>
<tr class="memdesc:afe58d4fc6a9ecabf3448b3b7fe1e1f35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Associate new node IDs to old ones and return them to the requestor(s)  <a href="#afe58d4fc6a9ecabf3448b3b7fe1e1f35">More...</a><br /></td></tr>
<tr class="separator:afe58d4fc6a9ecabf3448b3b7fe1e1f35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16911d97d460bf3d9d8b0a41b89a04df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a16911d97d460bf3d9d8b0a41b89a04df">reordered</a> ()</td></tr>
<tr class="separator:a16911d97d460bf3d9d8b0a41b89a04df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a126f83464b8629f87e300b79aba14844"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a126f83464b8629f87e300b79aba14844">bounds</a> ()</td></tr>
<tr class="separator:a126f83464b8629f87e300b79aba14844"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcd4abf221e474f66a64aaa0de75b063"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#afcd4abf221e474f66a64aaa0de75b063">create</a> ()</td></tr>
<tr class="memdesc:afcd4abf221e474f66a64aaa0de75b063"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create chare array elements on this PE and assign the global mesh element IDs they will operate on.  <a href="#afcd4abf221e474f66a64aaa0de75b063">More...</a><br /></td></tr>
<tr class="separator:afcd4abf221e474f66a64aaa0de75b063"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0c9d7f7df5c42c589e6b0761a999f54"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575">tk::real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#ab0c9d7f7df5c42c589e6b0761a999f54">cost</a> (std::size_t <a class="el" href="classinciter_1_1_partitioner.html#a1efc884c6d615bfa0df4ac0436d7dfe4">lower</a>, std::size_t upper)</td></tr>
<tr class="separator:ab0c9d7f7df5c42c589e6b0761a999f54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a204484c54006569d917a44ef4dead8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a8a204484c54006569d917a44ef4dead8">signal2host_graph_complete</a> (const CProxy_Conductor &amp;host, uint64_t nelem)</td></tr>
<tr class="memdesc:a8a204484c54006569d917a44ef4dead8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal back to host that we have done our part of reading the mesh graph.  <a href="#a8a204484c54006569d917a44ef4dead8">More...</a><br /></td></tr>
<tr class="separator:a8a204484c54006569d917a44ef4dead8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c9ce4cfec526a9d4a4fa5933f332721"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a7c9ce4cfec526a9d4a4fa5933f332721">signal2host_avecost</a> (const CProxy_Conductor &amp;host)</td></tr>
<tr class="separator:a7c9ce4cfec526a9d4a4fa5933f332721"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa750f84166a26d87faa86ab1e96711b8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#aa750f84166a26d87faa86ab1e96711b8">signal2host_stdcost</a> (const CProxy_Conductor &amp;host, <a class="el" href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575">tk::real</a> var)</td></tr>
<tr class="memdesc:aa750f84166a26d87faa86ab1e96711b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute standard deviation of the communication cost of merging the linear system.  <a href="#aa750f84166a26d87faa86ab1e96711b8">More...</a><br /></td></tr>
<tr class="separator:aa750f84166a26d87faa86ab1e96711b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8930fb7b1b3f0986affa070bbfdee1fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a8930fb7b1b3f0986affa070bbfdee1fd">signal2host_setup_complete</a> (const CProxy_Conductor &amp;host)</td></tr>
<tr class="memdesc:a8930fb7b1b3f0986affa070bbfdee1fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal back to host that we are ready for partitioning the mesh.  <a href="#a8930fb7b1b3f0986affa070bbfdee1fd">More...</a><br /></td></tr>
<tr class="separator:a8930fb7b1b3f0986affa070bbfdee1fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed8c5c5a41ca8b3e608a2d678d0bc74f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#aed8c5c5a41ca8b3e608a2d678d0bc74f">signal2host_flattened</a> (const CProxy_Conductor &amp;host)</td></tr>
<tr class="memdesc:aed8c5c5a41ca8b3e608a2d678d0bc74f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal host that we are ready for computing the communication map, required for parallel distributed global mesh node reordering.  <a href="#aed8c5c5a41ca8b3e608a2d678d0bc74f">More...</a><br /></td></tr>
<tr class="separator:aed8c5c5a41ca8b3e608a2d678d0bc74f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a86f839bf419fe22d2cddcb9865cc2205"><td class="memItemLeft" align="right" valign="top">HostProxy&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a86f839bf419fe22d2cddcb9865cc2205">m_host</a></td></tr>
<tr class="memdesc:a86f839bf419fe22d2cddcb9865cc2205"><td class="mdescLeft">&#160;</td><td class="mdescRight">Host proxy.  <a href="#a86f839bf419fe22d2cddcb9865cc2205">More...</a><br /></td></tr>
<tr class="separator:a86f839bf419fe22d2cddcb9865cc2205"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f27f075c5faad57f8b04473c4756637"><td class="memItemLeft" align="right" valign="top">WorkerProxy&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a9f27f075c5faad57f8b04473c4756637">m_worker</a></td></tr>
<tr class="memdesc:a9f27f075c5faad57f8b04473c4756637"><td class="mdescLeft">&#160;</td><td class="mdescRight">Worker proxy.  <a href="#a9f27f075c5faad57f8b04473c4756637">More...</a><br /></td></tr>
<tr class="separator:a9f27f075c5faad57f8b04473c4756637"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fcf4a11bfd78126303fb2fe8f7c3bd3"><td class="memItemLeft" align="right" valign="top">LinSysMergerProxy&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a7fcf4a11bfd78126303fb2fe8f7c3bd3">m_linsysmerger</a></td></tr>
<tr class="memdesc:a7fcf4a11bfd78126303fb2fe8f7c3bd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Linear system merger proxy.  <a href="#a7fcf4a11bfd78126303fb2fe8f7c3bd3">More...</a><br /></td></tr>
<tr class="separator:a7fcf4a11bfd78126303fb2fe8f7c3bd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63d455d5c78d6291abaff7a58dd5398d"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a63d455d5c78d6291abaff7a58dd5398d">m_npe</a></td></tr>
<tr class="memdesc:a63d455d5c78d6291abaff7a58dd5398d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of fellow PEs to send elem IDs to.  <a href="#a63d455d5c78d6291abaff7a58dd5398d">More...</a><br /></td></tr>
<tr class="separator:a63d455d5c78d6291abaff7a58dd5398d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4ac250214fbae307f1d15d170bab0a1"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::pair&lt; int, std::set&lt; std::size_t &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#ae4ac250214fbae307f1d15d170bab0a1">m_req</a></td></tr>
<tr class="memdesc:ae4ac250214fbae307f1d15d170bab0a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue of requested node IDs from PEs.  <a href="#ae4ac250214fbae307f1d15d170bab0a1">More...</a><br /></td></tr>
<tr class="separator:ae4ac250214fbae307f1d15d170bab0a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7f5688e6ba8f266d5feda6921b54646"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#aa7f5688e6ba8f266d5feda6921b54646">m_reordered</a></td></tr>
<tr class="memdesc:aa7f5688e6ba8f266d5feda6921b54646"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of mesh nodes reordered.  <a href="#aa7f5688e6ba8f266d5feda6921b54646">More...</a><br /></td></tr>
<tr class="separator:aa7f5688e6ba8f266d5feda6921b54646"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2752c355fd5be73ed779bdf5d8b5aa75"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a2752c355fd5be73ed779bdf5d8b5aa75">m_start</a></td></tr>
<tr class="memdesc:a2752c355fd5be73ed779bdf5d8b5aa75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starting global mesh node ID for node reordering.  <a href="#a2752c355fd5be73ed779bdf5d8b5aa75">More...</a><br /></td></tr>
<tr class="separator:a2752c355fd5be73ed779bdf5d8b5aa75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace7332dc69bd2f5148dd578726b06e58"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#ace7332dc69bd2f5148dd578726b06e58">m_noffset</a></td></tr>
<tr class="memdesc:ace7332dc69bd2f5148dd578726b06e58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counter for number of offsets.  <a href="#ace7332dc69bd2f5148dd578726b06e58">More...</a><br /></td></tr>
<tr class="separator:ace7332dc69bd2f5148dd578726b06e58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfa959e5fd79961cae2923a1e5b44772"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#abfa959e5fd79961cae2923a1e5b44772">m_nquery</a></td></tr>
<tr class="memdesc:abfa959e5fd79961cae2923a1e5b44772"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counter for number of masks of to-be-received global mesh node IDs received.  <a href="#abfa959e5fd79961cae2923a1e5b44772">More...</a><br /></td></tr>
<tr class="separator:abfa959e5fd79961cae2923a1e5b44772"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5806bb29e562563fce2f233ae7b2e81d"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a5806bb29e562563fce2f233ae7b2e81d">m_tetinpoel</a></td></tr>
<tr class="memdesc:a5806bb29e562563fce2f233ae7b2e81d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tetrtahedron element connectivity of our chunk of the mesh.  <a href="#a5806bb29e562563fce2f233ae7b2e81d">More...</a><br /></td></tr>
<tr class="separator:a5806bb29e562563fce2f233ae7b2e81d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae252cbd5790b69eaa6e4db451f188bfb"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#ae252cbd5790b69eaa6e4db451f188bfb">m_gelemid</a></td></tr>
<tr class="memdesc:ae252cbd5790b69eaa6e4db451f188bfb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global element IDs we read (our chunk of the mesh)  <a href="#ae252cbd5790b69eaa6e4db451f188bfb">More...</a><br /></td></tr>
<tr class="separator:ae252cbd5790b69eaa6e4db451f188bfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8190f392a7d9244aef19bc2576863139"><td class="memItemLeft" align="right" valign="top">std::array&lt; std::vector&lt; <a class="el" href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575">tk::real</a> &gt;, 3 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a8190f392a7d9244aef19bc2576863139">m_centroid</a></td></tr>
<tr class="memdesc:a8190f392a7d9244aef19bc2576863139"><td class="mdescLeft">&#160;</td><td class="mdescRight">Element centroid coordinates of our chunk of the mesh.  <a href="#a8190f392a7d9244aef19bc2576863139">More...</a><br /></td></tr>
<tr class="separator:a8190f392a7d9244aef19bc2576863139"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29890eb55e8302458489583b6af9d023"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a29890eb55e8302458489583b6af9d023">m_nchare</a></td></tr>
<tr class="memdesc:a29890eb55e8302458489583b6af9d023"><td class="mdescLeft">&#160;</td><td class="mdescRight">Total number of chares across all PEs.  <a href="#a29890eb55e8302458489583b6af9d023">More...</a><br /></td></tr>
<tr class="separator:a29890eb55e8302458489583b6af9d023"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cf4e2d3a24417b4e62584a33fba5fe4"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a3cf4e2d3a24417b4e62584a33fba5fe4">m_lower</a></td></tr>
<tr class="memdesc:a3cf4e2d3a24417b4e62584a33fba5fe4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lower bound of node IDs our PE operates on after reordering.  <a href="#a3cf4e2d3a24417b4e62584a33fba5fe4">More...</a><br /></td></tr>
<tr class="separator:a3cf4e2d3a24417b4e62584a33fba5fe4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23b0258af4481dd9896ba103a5d23326"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a23b0258af4481dd9896ba103a5d23326">m_upper</a></td></tr>
<tr class="memdesc:a23b0258af4481dd9896ba103a5d23326"><td class="mdescLeft">&#160;</td><td class="mdescRight">Upper bound of node IDs our PE operates on after reordering.  <a href="#a23b0258af4481dd9896ba103a5d23326">More...</a><br /></td></tr>
<tr class="separator:a23b0258af4481dd9896ba103a5d23326"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1948f891e6c93b6e151c774aa559699"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#ae1948f891e6c93b6e151c774aa559699">m_node</a></td></tr>
<tr class="memdesc:ae1948f891e6c93b6e151c774aa559699"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global mesh node ids associated to chares owned.  <a href="#ae1948f891e6c93b6e151c774aa559699">More...</a><br /></td></tr>
<tr class="separator:ae1948f891e6c93b6e151c774aa559699"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac511a8a1c691ceef833c17077d1b822a"><td class="memItemLeft" align="right" valign="top">std::map&lt; int, std::set&lt; std::size_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#ac511a8a1c691ceef833c17077d1b822a">m_comm</a></td></tr>
<tr class="memdesc:ac511a8a1c691ceef833c17077d1b822a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Temporary communication map used to receive global mesh node IDs.  <a href="#ac511a8a1c691ceef833c17077d1b822a">More...</a><br /></td></tr>
<tr class="separator:ac511a8a1c691ceef833c17077d1b822a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad892002917e3abe8197a03a6fa9c1729"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; int, std::set&lt; std::size_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#ad892002917e3abe8197a03a6fa9c1729">m_communication</a></td></tr>
<tr class="memdesc:ad892002917e3abe8197a03a6fa9c1729"><td class="mdescLeft">&#160;</td><td class="mdescRight">Communication map used for distributed mesh node reordering.  <a href="#ad892002917e3abe8197a03a6fa9c1729">More...</a><br /></td></tr>
<tr class="separator:ad892002917e3abe8197a03a6fa9c1729"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b204c2336d0c7bf9d537e1ad76582ff"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a1b204c2336d0c7bf9d537e1ad76582ff">m_id</a></td></tr>
<tr class="memdesc:a1b204c2336d0c7bf9d537e1ad76582ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unique global node IDs chares on our PE will contribute to in a linear system.  <a href="#a1b204c2336d0c7bf9d537e1ad76582ff">More...</a><br /></td></tr>
<tr class="separator:a1b204c2336d0c7bf9d537e1ad76582ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad13da23201c5cd9eaf0c7a4d60d57b09"><td class="memItemLeft" align="right" valign="top">std::unordered_set&lt; std::size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#ad13da23201c5cd9eaf0c7a4d60d57b09">m_sid</a></td></tr>
<tr class="memdesc:ad13da23201c5cd9eaf0c7a4d60d57b09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global mesh node IDs associated in hash set.  <a href="#ad13da23201c5cd9eaf0c7a4d60d57b09">More...</a><br /></td></tr>
<tr class="separator:ad13da23201c5cd9eaf0c7a4d60d57b09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a263b8cb295ea4e781abd0b29851b9dbf"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; std::size_t, std::size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a263b8cb295ea4e781abd0b29851b9dbf">m_newid</a></td></tr>
<tr class="memdesc:a263b8cb295ea4e781abd0b29851b9dbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map associating new node IDs (as in producing contiguous-row-id linear system contributions) to old node IDs (as in file)  <a href="#a263b8cb295ea4e781abd0b29851b9dbf">More...</a><br /></td></tr>
<tr class="separator:a263b8cb295ea4e781abd0b29851b9dbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf4c43cb76be8a76db40a73a44c66d10"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; int, std::unordered_map&lt; std::size_t, std::size_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#aaf4c43cb76be8a76db40a73a44c66d10">m_chcid</a></td></tr>
<tr class="memdesc:aaf4c43cb76be8a76db40a73a44c66d10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maps associating old node IDs to new node IDs categorized by chares.  <a href="#aaf4c43cb76be8a76db40a73a44c66d10">More...</a><br /></td></tr>
<tr class="separator:aaf4c43cb76be8a76db40a73a44c66d10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e3d094bcef64d418235469aa47d137f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575">tk::real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a7e3d094bcef64d418235469aa47d137f">m_cost</a></td></tr>
<tr class="memdesc:a7e3d094bcef64d418235469aa47d137f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Communication cost of linear system merging for our PE.  <a href="#a7e3d094bcef64d418235469aa47d137f">More...</a><br /></td></tr>
<tr class="separator:a7e3d094bcef64d418235469aa47d137f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class HostProxy, class WorkerProxy, class LinSysMergerProxy&gt;<br />
class inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;</h3>

<p><a class="el" href="classinciter_1_1_partitioner.html">Partitioner</a> Charm++ chare group class</p>
<p>Instantiations of <a class="el" href="classinciter_1_1_partitioner.html">Partitioner</a> comprise a processor aware Charm++ chare group. When instantiated, a new object is created on each PE and not more (as opposed to individual chares or chare array object elements). See also the Charm++ interface file <a class="el" href="partitioner_8ci.html">partitioner.ci</a>. </p><dl class="section author"><dt>Author</dt><dd>J. Bakosi </dd></dl>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00089">89</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a86cb69c9ddd90fae7d0ad56ee16ada30"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::<a class="el" href="classinciter_1_1_partitioner.html#a86cb69c9ddd90fae7d0ad56ee16ada30">Group</a> =  CBase_Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00118">118</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a9e134a9f04eedf3861f28b09930c29f6"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::<a class="el" href="classinciter_1_1_partitioner.html">Partitioner</a> </td>
          <td>(</td>
          <td class="paramtype">const HostProxy &amp;&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const WorkerProxy &amp;&#160;</td>
          <td class="paramname"><em>worker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const LinSysMergerProxy &amp;&#160;</td>
          <td class="paramname"><em>lsm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructor </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">host</td><td>Host Charm++ proxy we are being called from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">worker</td><td>Worker Charm++ proxy we spawn work to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lsm</td><td>Linear system merger proxy (required by the workers) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00125">125</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>References <a class="el" href="_partitioner_8h_source.html#l00438">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::computeCentroids()</a>, <a class="el" href="_control_8h_source.html#l00049">tk::Control&lt; Ts &gt;::get()</a>, <a class="el" href="_partitioner_8h_source.html#l00340">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_host</a>, <a class="el" href="namespacetk_1_1ctr.html#a180736a871ec765b3614343e6b853f1dac382c91f3607204804fd503efb6a5681">tk::ctr::RCB</a>, <a class="el" href="_partitioner_8h_source.html#l00417">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::readGraph()</a>, <a class="el" href="namespacetk_1_1ctr.html#a180736a871ec765b3614343e6b853f1da969dfd176e67b221d6389edcaeb08efc">tk::ctr::RIB</a>, and <a class="el" href="_partitioner_8h_source.html#l00792">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::signal2host_setup_complete()</a>.</p>
<div class="fragment"><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                                                :</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      __dep(),</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a86f839bf419fe22d2cddcb9865cc2205">m_host</a>( host ),</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a9f27f075c5faad57f8b04473c4756637">m_worker</a>( worker ),</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a7fcf4a11bfd78126303fb2fe8f7c3bd3">m_linsysmerger</a>( lsm ),</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a63d455d5c78d6291abaff7a58dd5398d">m_npe</a>( 0 ),</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#ae4ac250214fbae307f1d15d170bab0a1">m_req</a>(),</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#aa7f5688e6ba8f266d5feda6921b54646">m_reordered</a>( 0 ),</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a2752c355fd5be73ed779bdf5d8b5aa75">m_start</a>( 0 ),</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#ace7332dc69bd2f5148dd578726b06e58">m_noffset</a>( 0 ),</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#abfa959e5fd79961cae2923a1e5b44772">m_nquery</a>( 0 ),</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a5806bb29e562563fce2f233ae7b2e81d">m_tetinpoel</a>(),</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#ae252cbd5790b69eaa6e4db451f188bfb">m_gelemid</a>(),</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a8190f392a7d9244aef19bc2576863139">m_centroid</a>(),</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a29890eb55e8302458489583b6af9d023">m_nchare</a>( 0 ),</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a3cf4e2d3a24417b4e62584a33fba5fe4">m_lower</a>( 0 ),</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a23b0258af4481dd9896ba103a5d23326">m_upper</a>( 0 ),</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#ae1948f891e6c93b6e151c774aa559699">m_node</a>(),</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#ac511a8a1c691ceef833c17077d1b822a">m_comm</a>(),</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#ad892002917e3abe8197a03a6fa9c1729">m_communication</a>(),</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a1b204c2336d0c7bf9d537e1ad76582ff">m_id</a>(),</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#ad13da23201c5cd9eaf0c7a4d60d57b09">m_sid</a>(),</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a263b8cb295ea4e781abd0b29851b9dbf">m_newid</a>(),</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#aaf4c43cb76be8a76db40a73a44c66d10">m_chcid</a>(),</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a7e3d094bcef64d418235469aa47d137f">m_cost</a>( 0.0 )</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    {</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      <a class="code" href="classtk_1_1_exodus_i_i_mesh_reader.html">tk::ExodusIIMeshReader</a></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        er( <a class="code" href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">g_inputdeck</a>.<a class="code" href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">get</a>&lt; <a class="code" href="structtag_1_1cmd.html">tag::cmd</a>, <a class="code" href="structtag_1_1io.html">tag::io</a>, <a class="code" href="structtag_1_1input.html">tag::input</a> &gt;() );</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <span class="comment">// Read our contiguously-numbered chunk of the mesh graph from file</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a884d00574a0ad67a46bdc40f4bbe16de">readGraph</a>( er );</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <span class="comment">// If a geometric partitioner is selected, compute element centroid</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      <span class="comment">// coordinates</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> alg = <a class="code" href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">g_inputdeck</a>.<a class="code" href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">get</a>&lt; <a class="code" href="structtag_1_1selected.html">tag::selected</a>, <a class="code" href="structtag_1_1partitioner.html">tag::partitioner</a> &gt;();</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <span class="keywordflow">if</span> ( alg == <a class="code" href="namespacetk_1_1ctr.html#a180736a871ec765b3614343e6b853f1dac382c91f3607204804fd503efb6a5681">tk::ctr::PartitioningAlgorithmType::RCB</a> ||</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;           alg == <a class="code" href="namespacetk_1_1ctr.html#a180736a871ec765b3614343e6b853f1da969dfd176e67b221d6389edcaeb08efc">tk::ctr::PartitioningAlgorithmType::RIB</a> )</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <a class="code" href="classinciter_1_1_partitioner.html#a56828dface8231481b0e74bf30795be6">computeCentroids</a>( er );</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <a class="code" href="classinciter_1_1_partitioner.html#a8930fb7b1b3f0986affa070bbfdee1fd">signal2host_setup_complete</a>( <a class="code" href="classinciter_1_1_partitioner.html#a86f839bf419fe22d2cddcb9865cc2205">m_host</a> );</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a56828dface8231481b0e74bf30795be6"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a56828dface8231481b0e74bf30795be6">inciter::Partitioner::computeCentroids</a></div><div class="ttdeci">void computeCentroids(tk::ExodusIIMeshReader &amp;er)</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00438">Partitioner.h:438</a></div></div>
<div class="ttc" id="structtag_1_1io_html"><div class="ttname"><a href="structtag_1_1io.html">tag::io</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00017">Tags.h:17</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a884d00574a0ad67a46bdc40f4bbe16de"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a884d00574a0ad67a46bdc40f4bbe16de">inciter::Partitioner::readGraph</a></div><div class="ttdeci">void readGraph(tk::ExodusIIMeshReader &amp;er)</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00417">Partitioner.h:417</a></div></div>
<div class="ttc" id="namespacetk_1_1ctr_html_a180736a871ec765b3614343e6b853f1da969dfd176e67b221d6389edcaeb08efc"><div class="ttname"><a href="namespacetk_1_1ctr.html#a180736a871ec765b3614343e6b853f1da969dfd176e67b221d6389edcaeb08efc">tk::ctr::PartitioningAlgorithmType::RIB</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ac511a8a1c691ceef833c17077d1b822a"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ac511a8a1c691ceef833c17077d1b822a">inciter::Partitioner::m_comm</a></div><div class="ttdeci">std::map&lt; int, std::set&lt; std::size_t &gt; &gt; m_comm</div><div class="ttdoc">Temporary communication map used to receive global mesh node IDs. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00384">Partitioner.h:384</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a7e3d094bcef64d418235469aa47d137f"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a7e3d094bcef64d418235469aa47d137f">inciter::Partitioner::m_cost</a></div><div class="ttdeci">tk::real m_cost</div><div class="ttdoc">Communication cost of linear system merging for our PE. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00413">Partitioner.h:413</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a1b204c2336d0c7bf9d537e1ad76582ff"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a1b204c2336d0c7bf9d537e1ad76582ff">inciter::Partitioner::m_id</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; m_id</div><div class="ttdoc">Unique global node IDs chares on our PE will contribute to in a linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00393">Partitioner.h:393</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a8930fb7b1b3f0986affa070bbfdee1fd"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a8930fb7b1b3f0986affa070bbfdee1fd">inciter::Partitioner::signal2host_setup_complete</a></div><div class="ttdeci">void signal2host_setup_complete(const CProxy_Conductor &amp;host)</div><div class="ttdoc">Signal back to host that we are ready for partitioning the mesh. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00792">Partitioner.h:792</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a23b0258af4481dd9896ba103a5d23326"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a23b0258af4481dd9896ba103a5d23326">inciter::Partitioner::m_upper</a></div><div class="ttdeci">std::size_t m_upper</div><div class="ttdoc">Upper bound of node IDs our PE operates on after reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00375">Partitioner.h:375</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a8190f392a7d9244aef19bc2576863139"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a8190f392a7d9244aef19bc2576863139">inciter::Partitioner::m_centroid</a></div><div class="ttdeci">std::array&lt; std::vector&lt; tk::real &gt;, 3 &gt; m_centroid</div><div class="ttdoc">Element centroid coordinates of our chunk of the mesh. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00369">Partitioner.h:369</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a29890eb55e8302458489583b6af9d023"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a29890eb55e8302458489583b6af9d023">inciter::Partitioner::m_nchare</a></div><div class="ttdeci">int m_nchare</div><div class="ttdoc">Total number of chares across all PEs. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00371">Partitioner.h:371</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_aaf4c43cb76be8a76db40a73a44c66d10"><div class="ttname"><a href="classinciter_1_1_partitioner.html#aaf4c43cb76be8a76db40a73a44c66d10">inciter::Partitioner::m_chcid</a></div><div class="ttdeci">std::unordered_map&lt; int, std::unordered_map&lt; std::size_t, std::size_t &gt; &gt; m_chcid</div><div class="ttdoc">Maps associating old node IDs to new node IDs categorized by chares. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00411">Partitioner.h:411</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ad892002917e3abe8197a03a6fa9c1729"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ad892002917e3abe8197a03a6fa9c1729">inciter::Partitioner::m_communication</a></div><div class="ttdeci">std::unordered_map&lt; int, std::set&lt; std::size_t &gt; &gt; m_communication</div><div class="ttdoc">Communication map used for distributed mesh node reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00390">Partitioner.h:390</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a63d455d5c78d6291abaff7a58dd5398d"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a63d455d5c78d6291abaff7a58dd5398d">inciter::Partitioner::m_npe</a></div><div class="ttdeci">std::size_t m_npe</div><div class="ttdoc">Number of fellow PEs to send elem IDs to. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00346">Partitioner.h:346</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ae4ac250214fbae307f1d15d170bab0a1"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ae4ac250214fbae307f1d15d170bab0a1">inciter::Partitioner::m_req</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; int, std::set&lt; std::size_t &gt; &gt; &gt; m_req</div><div class="ttdoc">Queue of requested node IDs from PEs. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00348">Partitioner.h:348</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a3cf4e2d3a24417b4e62584a33fba5fe4"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a3cf4e2d3a24417b4e62584a33fba5fe4">inciter::Partitioner::m_lower</a></div><div class="ttdeci">std::size_t m_lower</div><div class="ttdoc">Lower bound of node IDs our PE operates on after reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00373">Partitioner.h:373</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ae1948f891e6c93b6e151c774aa559699"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ae1948f891e6c93b6e151c774aa559699">inciter::Partitioner::m_node</a></div><div class="ttdeci">std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt; m_node</div><div class="ttdoc">Global mesh node ids associated to chares owned. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00380">Partitioner.h:380</a></div></div>
<div class="ttc" id="structtag_1_1cmd_html"><div class="ttname"><a href="structtag_1_1cmd.html">tag::cmd</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00114">Tags.h:114</a></div></div>
<div class="ttc" id="structtag_1_1input_html"><div class="ttname"><a href="structtag_1_1input.html">tag::input</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00018">Tags.h:18</a></div></div>
<div class="ttc" id="structtag_1_1selected_html"><div class="ttname"><a href="structtag_1_1selected.html">tag::selected</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00110">Tags.h:110</a></div></div>
<div class="ttc" id="structtag_1_1partitioner_html"><div class="ttname"><a href="structtag_1_1partitioner.html">tag::partitioner</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00057">Tags.h:57</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_abfa959e5fd79961cae2923a1e5b44772"><div class="ttname"><a href="classinciter_1_1_partitioner.html#abfa959e5fd79961cae2923a1e5b44772">inciter::Partitioner::m_nquery</a></div><div class="ttdeci">std::size_t m_nquery</div><div class="ttdoc">Counter for number of masks of to-be-received global mesh node IDs received. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00363">Partitioner.h:363</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a263b8cb295ea4e781abd0b29851b9dbf"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a263b8cb295ea4e781abd0b29851b9dbf">inciter::Partitioner::m_newid</a></div><div class="ttdeci">std::unordered_map&lt; std::size_t, std::size_t &gt; m_newid</div><div class="ttdoc">Map associating new node IDs (as in producing contiguous-row-id linear system contributions) to old n...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00403">Partitioner.h:403</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a5806bb29e562563fce2f233ae7b2e81d"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a5806bb29e562563fce2f233ae7b2e81d">inciter::Partitioner::m_tetinpoel</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; m_tetinpoel</div><div class="ttdoc">Tetrtahedron element connectivity of our chunk of the mesh. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00365">Partitioner.h:365</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_aa7f5688e6ba8f266d5feda6921b54646"><div class="ttname"><a href="classinciter_1_1_partitioner.html#aa7f5688e6ba8f266d5feda6921b54646">inciter::Partitioner::m_reordered</a></div><div class="ttdeci">std::size_t m_reordered</div><div class="ttdoc">Number of mesh nodes reordered. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00350">Partitioner.h:350</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a2752c355fd5be73ed779bdf5d8b5aa75"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a2752c355fd5be73ed779bdf5d8b5aa75">inciter::Partitioner::m_start</a></div><div class="ttdeci">std::size_t m_start</div><div class="ttdoc">Starting global mesh node ID for node reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00352">Partitioner.h:352</a></div></div>
<div class="ttc" id="namespacetk_1_1ctr_html_a180736a871ec765b3614343e6b853f1dac382c91f3607204804fd503efb6a5681"><div class="ttname"><a href="namespacetk_1_1ctr.html#a180736a871ec765b3614343e6b853f1dac382c91f3607204804fd503efb6a5681">tk::ctr::PartitioningAlgorithmType::RCB</a></div></div>
<div class="ttc" id="classtk_1_1_control_html_a85c14acef1b9de96946fcf2ab7c08721"><div class="ttname"><a href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">tk::Control::get</a></div><div class="ttdeci">constexpr const Tuple::template nT&lt; tag &gt; &amp; get() const noexcept</div><div class="ttdoc">Const-ref accessor to single element at 1st level. </div><div class="ttdef"><b>Definition:</b> <a href="_control_8h_source.html#l00049">Control.h:49</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a9f27f075c5faad57f8b04473c4756637"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a9f27f075c5faad57f8b04473c4756637">inciter::Partitioner::m_worker</a></div><div class="ttdeci">WorkerProxy m_worker</div><div class="ttdoc">Worker proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00342">Partitioner.h:342</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ae252cbd5790b69eaa6e4db451f188bfb"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ae252cbd5790b69eaa6e4db451f188bfb">inciter::Partitioner::m_gelemid</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; m_gelemid</div><div class="ttdoc">Global element IDs we read (our chunk of the mesh) </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00367">Partitioner.h:367</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a86f839bf419fe22d2cddcb9865cc2205"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a86f839bf419fe22d2cddcb9865cc2205">inciter::Partitioner::m_host</a></div><div class="ttdeci">HostProxy m_host</div><div class="ttdoc">Host proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00340">Partitioner.h:340</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ad13da23201c5cd9eaf0c7a4d60d57b09"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ad13da23201c5cd9eaf0c7a4d60d57b09">inciter::Partitioner::m_sid</a></div><div class="ttdeci">std::unordered_set&lt; std::size_t &gt; m_sid</div><div class="ttdoc">Global mesh node IDs associated in hash set. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00400">Partitioner.h:400</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a7fcf4a11bfd78126303fb2fe8f7c3bd3"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a7fcf4a11bfd78126303fb2fe8f7c3bd3">inciter::Partitioner::m_linsysmerger</a></div><div class="ttdeci">LinSysMergerProxy m_linsysmerger</div><div class="ttdoc">Linear system merger proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00344">Partitioner.h:344</a></div></div>
<div class="ttc" id="classtk_1_1_exodus_i_i_mesh_reader_html"><div class="ttname"><a href="classtk_1_1_exodus_i_i_mesh_reader.html">tk::ExodusIIMeshReader</a></div><div class="ttdef"><b>Definition:</b> <a href="_exodus_i_i_mesh_reader_8h_source.html#l00039">ExodusIIMeshReader.h:39</a></div></div>
<div class="ttc" id="namespaceinciter_html_a090ec6ca70e71bf204aa6ed5295bcaf3"><div class="ttname"><a href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">inciter::g_inputdeck</a></div><div class="ttdeci">ctr::InputDeck g_inputdeck</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00074">Partitioner.h:74</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ace7332dc69bd2f5148dd578726b06e58"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ace7332dc69bd2f5148dd578726b06e58">inciter::Partitioner::m_noffset</a></div><div class="ttdeci">std::size_t m_noffset</div><div class="ttdoc">Counter for number of offsets. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00357">Partitioner.h:357</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_a9e134a9f04eedf3861f28b09930c29f6_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a3413a4e0b4bfa83eaa24e9a728849384"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::add </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frompe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Receive mesh node IDs associated to chares we own </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>Mesh node indices associated to chare IDs </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00228">228</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>References <a class="el" href="_exception_8h_source.html#l00049">Assert</a>, <a class="el" href="_partitioner_8h_source.html#l00380">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_node</a>, and <a class="el" href="_partitioner_8h_source.html#l00627">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::pe()</a>.</p>
<div class="fragment"><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    {</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; c : n) {</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <a class="code" href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a>( <a class="code" href="classinciter_1_1_partitioner.html#ae910cfcec84dc903e4245f046b2acf3c">pe</a>(c.first) == CkMyPe(), <span class="stringliteral">&quot;PE &quot;</span> + std::to_string(CkMyPe()) +</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                <span class="stringliteral">&quot; received a chareid-nodeidx-vector pair whose chare it does&quot;</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                <span class="stringliteral">&quot; not own&quot;</span> );</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="keyword">auto</span>&amp; ch = <a class="code" href="classinciter_1_1_partitioner.html#ae1948f891e6c93b6e151c774aa559699">m_node</a>[ c.first ];</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        ch.insert( <a class="code" href="namespacekw.html#a3d5542e9817eb16f871c22a15595e837">end</a>(ch), begin(c.second), <a class="code" href="namespacekw.html#a3d5542e9817eb16f871c22a15595e837">end</a>(c.second) );</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      }</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      Group::thisProxy[ frompe ].recv();</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_ae910cfcec84dc903e4245f046b2acf3c"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ae910cfcec84dc903e4245f046b2acf3c">inciter::Partitioner::pe</a></div><div class="ttdeci">int pe(int id) const </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00627">Partitioner.h:627</a></div></div>
<div class="ttc" id="namespacekw_html_a3d5542e9817eb16f871c22a15595e837"><div class="ttname"><a href="namespacekw.html#a3d5542e9817eb16f871c22a15595e837">kw::end</a></div><div class="ttdeci">keyword&lt; end_info, e, n, d &gt; end</div><div class="ttdef"><b>Definition:</b> <a href="_keywords_8h_source.html#l00174">Keywords.h:174</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ae1948f891e6c93b6e151c774aa559699"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ae1948f891e6c93b6e151c774aa559699">inciter::Partitioner::m_node</a></div><div class="ttdeci">std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt; m_node</div><div class="ttdoc">Global mesh node ids associated to chares owned. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00380">Partitioner.h:380</a></div></div>
<div class="ttc" id="_exception_8h_html_a6e509ba096551a0924ec024afadba810"><div class="ttname"><a href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a></div><div class="ttdeci">#define Assert(expr,...)</div><div class="ttdoc">Assert macro that only throws an exception if expr fails. </div><div class="ttdef"><b>Definition:</b> <a href="_exception_8h_source.html#l00049">Exception.h:49</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_a3413a4e0b4bfa83eaa24e9a728849384_cgraph.svg" width="384" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a126f83464b8629f87e300b79aba14844"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::bounds </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00690">690</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>References <a class="el" href="_partitioner_8h_source.html#l00249">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::lower()</a>, and <a class="el" href="_partitioner_8h_source.html#l00375">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_upper</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00657">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::reordered()</a>.</p>
<div class="fragment"><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                  {</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a23b0258af4481dd9896ba103a5d23326">m_upper</a> = 0;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;      <span class="keyword">using</span> pair_type = std::pair&lt; const std::size_t, std::size_t &gt;;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; c : <a class="code" href="classinciter_1_1_partitioner.html#aaf4c43cb76be8a76db40a73a44c66d10">m_chcid</a>) {</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <span class="keyword">auto</span> x = std::max_element( begin(c.second), <a class="code" href="namespacekw.html#a3d5542e9817eb16f871c22a15595e837">end</a>(c.second),</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                 []( <span class="keyword">const</span> pair_type&amp; a, <span class="keyword">const</span> pair_type&amp; b )</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                 { return a.first &lt; b.first; } );</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        <span class="keywordflow">if</span> (x-&gt;first &gt; <a class="code" href="classinciter_1_1_partitioner.html#a23b0258af4481dd9896ba103a5d23326">m_upper</a>) <a class="code" href="classinciter_1_1_partitioner.html#a23b0258af4481dd9896ba103a5d23326">m_upper</a> = x-&gt;first;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      }</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;      <span class="comment">// The bounds are the dividers (global mesh point indices) at which the</span></div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;      <span class="comment">// linear system assembly is divided among PEs. However, Hypre and thus</span></div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      <span class="comment">// LinSysMerger expect exclusive upper indices, so we increase the last</span></div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;      <span class="comment">// one by one here. Note that the cost calculation, Partitioner::cost()</span></div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;      <span class="comment">// also expects exclusive upper indices.</span></div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;      <span class="keywordflow">if</span> (CkMyPe() == CkNumPes()-1) ++<a class="code" href="classinciter_1_1_partitioner.html#a23b0258af4481dd9896ba103a5d23326">m_upper</a>;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;      <span class="comment">// Tell the runtime system that the upper bound has been computed</span></div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;      trigger_upper();</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;      <span class="comment">// Set lower index for PE 0 as 0</span></div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;      <span class="keywordflow">if</span> (CkMyPe() == 0) <a class="code" href="classinciter_1_1_partitioner.html#a1efc884c6d615bfa0df4ac0436d7dfe4">lower</a>(0);</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;      <span class="comment">// All PEs except the last one send their upper indices as the lower index</span></div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;      <span class="comment">// for PE+1</span></div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;      <span class="keywordflow">if</span> (CkMyPe() &lt; CkNumPes()-1)</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        Group::thisProxy[ CkMyPe()+1 ].lower( <a class="code" href="classinciter_1_1_partitioner.html#a23b0258af4481dd9896ba103a5d23326">m_upper</a> );</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a23b0258af4481dd9896ba103a5d23326"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a23b0258af4481dd9896ba103a5d23326">inciter::Partitioner::m_upper</a></div><div class="ttdeci">std::size_t m_upper</div><div class="ttdoc">Upper bound of node IDs our PE operates on after reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00375">Partitioner.h:375</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_aaf4c43cb76be8a76db40a73a44c66d10"><div class="ttname"><a href="classinciter_1_1_partitioner.html#aaf4c43cb76be8a76db40a73a44c66d10">inciter::Partitioner::m_chcid</a></div><div class="ttdeci">std::unordered_map&lt; int, std::unordered_map&lt; std::size_t, std::size_t &gt; &gt; m_chcid</div><div class="ttdoc">Maps associating old node IDs to new node IDs categorized by chares. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00411">Partitioner.h:411</a></div></div>
<div class="ttc" id="namespacekw_html_a3d5542e9817eb16f871c22a15595e837"><div class="ttname"><a href="namespacekw.html#a3d5542e9817eb16f871c22a15595e837">kw::end</a></div><div class="ttdeci">keyword&lt; end_info, e, n, d &gt; end</div><div class="ttdef"><b>Definition:</b> <a href="_keywords_8h_source.html#l00174">Keywords.h:174</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a1efc884c6d615bfa0df4ac0436d7dfe4"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a1efc884c6d615bfa0df4ac0436d7dfe4">inciter::Partitioner::lower</a></div><div class="ttdeci">void lower(std::size_t low)</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00249">Partitioner.h:249</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_a126f83464b8629f87e300b79aba14844_cgraph.svg" width="328" height="50"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9e96c88d1373b6c3c878022a7b428ff0"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; int, int &gt; <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::chareDistribution </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Compute chare distribution </p><dl class="section return"><dt>Returns</dt><dd>Chunksize, i.e., number of chares per all PEs except the last one, and the number of chares for my PE</dd></dl>
<p>This computes a simple contiguous chare distribution across PEs. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00571">571</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00520">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::distribute()</a>, and <a class="el" href="_partitioner_8h_source.html#l00547">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::flatten()</a>.</p>
<div class="fragment"><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                                                  {</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      <span class="keyword">auto</span> chunksize = <a class="code" href="classinciter_1_1_partitioner.html#a29890eb55e8302458489583b6af9d023">m_nchare</a> / CkNumPes();</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      <span class="keyword">auto</span> mynchare = chunksize;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      <span class="keywordflow">if</span> (CkMyPe() == CkNumPes()-1) mynchare += <a class="code" href="classinciter_1_1_partitioner.html#a29890eb55e8302458489583b6af9d023">m_nchare</a> % CkNumPes();</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      <span class="keywordflow">return</span> { chunksize, mynchare };</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a29890eb55e8302458489583b6af9d023"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a29890eb55e8302458489583b6af9d023">inciter::Partitioner::m_nchare</a></div><div class="ttdeci">int m_nchare</div><div class="ttdoc">Total number of chares across all PEs. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00371">Partitioner.h:371</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a61cbe90a4acc00a6874fd0aedc743377"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt; <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::chareNodes </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::size_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>che</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Construct global mesh node ids for each chare </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">che</td><td>Chares of elements: array of chare ownership IDs mapping graph elements to Charm++ chares. Size: number of elements in the chunk of the mesh graph on this PE. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Vector of global mesh node ids connecting elements owned by each chare on this PE </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The chare IDs, as keys in the map constructed here, are simply the chare IDs returned by the partitioner assigning mesh elements to these chares. It does not mean that these chare IDs are owned on this PE. </dd></dl>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00475">475</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>References <a class="el" href="_exception_8h_source.html#l00049">Assert</a>, and <a class="el" href="_exception_8h_source.html#l00059">ErrChk</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00169">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::partition()</a>.</p>
<div class="fragment"><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    {</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      <a class="code" href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a>( che.size() == <a class="code" href="classinciter_1_1_partitioner.html#ae252cbd5790b69eaa6e4db451f188bfb">m_gelemid</a>.size(), <span class="stringliteral">&quot;The size of the global element &quot;</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;              <span class="stringliteral">&quot;index and the chare element arrays must equal&quot;</span> );</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      <a class="code" href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a>( che.size() == <a class="code" href="classinciter_1_1_partitioner.html#a5806bb29e562563fce2f233ae7b2e81d">m_tetinpoel</a>.size()/4, <span class="stringliteral">&quot;The size of the mesh &quot;</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;              <span class="stringliteral">&quot;connectivity / 4 and the chare element arrays must equal&quot;</span> );</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      <span class="comment">// Categorize global mesh node ids of elements by chares</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt; nodes;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      <span class="keywordflow">for</span> (std::size_t e=0; e&lt;che.size(); ++e) {</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        <span class="keyword">auto</span>&amp; c = nodes[ <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(che[e]) ];</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="keywordflow">for</span> (std::size_t n=0; n&lt;4; ++n) c.push_back( <a class="code" href="classinciter_1_1_partitioner.html#a5806bb29e562563fce2f233ae7b2e81d">m_tetinpoel</a>[e*4+n] );</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      }</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;      <span class="comment">// Make sure all PEs have chares assigned</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      <a class="code" href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a>( !nodes.empty(), <span class="stringliteral">&quot;No nodes have been assigned to chares on PE &quot;</span> +</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;              std::to_string(CkMyPe()) );</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      <span class="comment">// This check should always be done, hence ErrChk and not Assert, as it</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      <span class="comment">// can result from particular pathological combinations of (1) too large</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      <span class="comment">// degree of virtualization, (2) too many PEs, and/or (3) too small of a</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      <span class="comment">// mesh and not due to programmer error.</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; c : nodes)</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <a class="code" href="_exception_8h.html#ac75cd6578896829d2bfbccf5de71de4f">ErrChk</a>( !c.second.empty(),</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                <span class="stringliteral">&quot;Overdecomposition of the mesh is too large compared to the &quot;</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                <span class="stringliteral">&quot;number of work units computed based on the degree of &quot;</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                <span class="stringliteral">&quot;virtualization desired. As a result, there would be at least &quot;</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                <span class="stringliteral">&quot;one work unit with no mesh elements to work on, i.e., nothing &quot;</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                <span class="stringliteral">&quot;to do. Solution 1: decrease the virtualization to a lower &quot;</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                <span class="stringliteral">&quot;value using the command-line argument &#39;-u&#39;. Solution 2: &quot;</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                <span class="stringliteral">&quot;decrease the number processing elements (PEs) using the &quot;</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                <span class="stringliteral">&quot;charmrun command-line argument &#39;+pN&#39; where N is the number of &quot;</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                <span class="stringliteral">&quot;PEs, which implicitly increases the size (and thus decreases &quot;</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                <span class="stringliteral">&quot;the number) of work units.)&quot;</span> );</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      <span class="keywordflow">return</span> nodes;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    }</div><div class="ttc" id="_exception_8h_html_ac75cd6578896829d2bfbccf5de71de4f"><div class="ttname"><a href="_exception_8h.html#ac75cd6578896829d2bfbccf5de71de4f">ErrChk</a></div><div class="ttdeci">#define ErrChk(expr,...)</div><div class="ttdoc">ErrChk macro that only throws an exception if expr fails. </div><div class="ttdef"><b>Definition:</b> <a href="_exception_8h_source.html#l00059">Exception.h:59</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a5806bb29e562563fce2f233ae7b2e81d"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a5806bb29e562563fce2f233ae7b2e81d">inciter::Partitioner::m_tetinpoel</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; m_tetinpoel</div><div class="ttdoc">Tetrtahedron element connectivity of our chunk of the mesh. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00365">Partitioner.h:365</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ae252cbd5790b69eaa6e4db451f188bfb"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ae252cbd5790b69eaa6e4db451f188bfb">inciter::Partitioner::m_gelemid</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; m_gelemid</div><div class="ttdoc">Global element IDs we read (our chunk of the mesh) </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00367">Partitioner.h:367</a></div></div>
<div class="ttc" id="_exception_8h_html_a6e509ba096551a0924ec024afadba810"><div class="ttname"><a href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a></div><div class="ttdeci">#define Assert(expr,...)</div><div class="ttdoc">Assert macro that only throws an exception if expr fails. </div><div class="ttdef"><b>Definition:</b> <a href="_exception_8h_source.html#l00049">Exception.h:49</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a56828dface8231481b0e74bf30795be6"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::computeCentroids </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classtk_1_1_exodus_i_i_mesh_reader.html">tk::ExodusIIMeshReader</a> &amp;&#160;</td>
          <td class="paramname"><em>er</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">er</td><td>ExodusII mesh reader </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00438">438</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>References <a class="el" href="_container_util_8h_source.html#l00040">tk::cref_find()</a>, <a class="el" href="_container_util_8h_source.html#l00072">tk::extents()</a>, <a class="el" href="_partitioner_8h_source.html#l00365">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_tetinpoel</a>, <a class="el" href="_exodus_i_i_mesh_reader_8_c_source.html#l00150">tk::ExodusIIMeshReader::readNodes()</a>, <a class="el" href="_partitioner_8h_source.html#l00792">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::signal2host_setup_complete()</a>, and <a class="el" href="_container_util_8h_source.html#l00025">tk::unique()</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00125">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::Partitioner()</a>.</p>
<div class="fragment"><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                                                     {</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      <span class="comment">// Construct unique global mesh point indices of our chunk</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      <span class="keyword">auto</span> gid = <a class="code" href="classinciter_1_1_partitioner.html#a5806bb29e562563fce2f233ae7b2e81d">m_tetinpoel</a>;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      <a class="code" href="namespacetk.html#a87af1b002bc711716bd170a714bda211">tk::unique</a>( gid );</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      <span class="comment">// Read node coordinates of our chunk of the mesh elements from file</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      <span class="keyword">auto</span> coord = er.<a class="code" href="classtk_1_1_exodus_i_i_mesh_reader.html#a4a96432645cad9079dc10ee05769fec2">readNodes</a>( <a class="code" href="namespacetk.html#af0de4157a7818da7a9deb1476099bd8d">tk::extents</a>(gid) );</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      <span class="comment">// Make room for element centroid coordinates</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      <span class="keyword">auto</span>&amp; cx = <a class="code" href="classinciter_1_1_partitioner.html#a8190f392a7d9244aef19bc2576863139">m_centroid</a>[0];</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      <span class="keyword">auto</span>&amp; cy = <a class="code" href="classinciter_1_1_partitioner.html#a8190f392a7d9244aef19bc2576863139">m_centroid</a>[1];</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;      <span class="keyword">auto</span>&amp; cz = <a class="code" href="classinciter_1_1_partitioner.html#a8190f392a7d9244aef19bc2576863139">m_centroid</a>[2];</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      <span class="keyword">auto</span> num = <a class="code" href="classinciter_1_1_partitioner.html#a5806bb29e562563fce2f233ae7b2e81d">m_tetinpoel</a>.size()/4;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;      cx.resize( num );</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      cy.resize( num );</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      cz.resize( num );</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      <span class="comment">// Compute element centroids for our chunk of the mesh elements</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      <span class="keywordflow">for</span> (std::size_t e=0; e&lt;num; ++e) {</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; a = <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( coord, <a class="code" href="classinciter_1_1_partitioner.html#a5806bb29e562563fce2f233ae7b2e81d">m_tetinpoel</a>[e*4+0] );</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; b = <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( coord, <a class="code" href="classinciter_1_1_partitioner.html#a5806bb29e562563fce2f233ae7b2e81d">m_tetinpoel</a>[e*4+1] );</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; c = <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( coord, <a class="code" href="classinciter_1_1_partitioner.html#a5806bb29e562563fce2f233ae7b2e81d">m_tetinpoel</a>[e*4+2] );</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; d = <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( coord, <a class="code" href="classinciter_1_1_partitioner.html#a5806bb29e562563fce2f233ae7b2e81d">m_tetinpoel</a>[e*4+3] );</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        cx[e] = (a[0] + b[0] + c[0] + d[0]) / 4.0;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        cy[e] = (a[1] + b[1] + c[1] + d[1]) / 4.0;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        cz[e] = (a[2] + b[2] + c[2] + d[2]) / 4.0;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      }</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a8930fb7b1b3f0986affa070bbfdee1fd">signal2host_setup_complete</a>( <a class="code" href="classinciter_1_1_partitioner.html#a86f839bf419fe22d2cddcb9865cc2205">m_host</a> );</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    }</div><div class="ttc" id="classtk_1_1_exodus_i_i_mesh_reader_html_a4a96432645cad9079dc10ee05769fec2"><div class="ttname"><a href="classtk_1_1_exodus_i_i_mesh_reader.html#a4a96432645cad9079dc10ee05769fec2">tk::ExodusIIMeshReader::readNodes</a></div><div class="ttdeci">std::unordered_map&lt; std::size_t, std::array&lt; tk::real, 3 &gt; &gt; readNodes(const std::array&lt; std::size_t, 2 &gt; &amp;ext) const </div><div class="ttdoc">Read coordinates of a number of mesh nodes from ExodusII file. </div><div class="ttdef"><b>Definition:</b> <a href="_exodus_i_i_mesh_reader_8_c_source.html#l00150">ExodusIIMeshReader.C:150</a></div></div>
<div class="ttc" id="namespacetk_html_af0de4157a7818da7a9deb1476099bd8d"><div class="ttname"><a href="namespacetk.html#af0de4157a7818da7a9deb1476099bd8d">tk::extents</a></div><div class="ttdeci">std::array&lt; T, 2 &gt; extents(const std::vector&lt; T &gt; &amp;vec)</div><div class="ttdoc">Return minimum and maximum values of a vector. </div><div class="ttdef"><b>Definition:</b> <a href="_container_util_8h_source.html#l00072">ContainerUtil.h:72</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a8930fb7b1b3f0986affa070bbfdee1fd"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a8930fb7b1b3f0986affa070bbfdee1fd">inciter::Partitioner::signal2host_setup_complete</a></div><div class="ttdeci">void signal2host_setup_complete(const CProxy_Conductor &amp;host)</div><div class="ttdoc">Signal back to host that we are ready for partitioning the mesh. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00792">Partitioner.h:792</a></div></div>
<div class="ttc" id="namespacetk_html_a87af1b002bc711716bd170a714bda211"><div class="ttname"><a href="namespacetk.html#a87af1b002bc711716bd170a714bda211">tk::unique</a></div><div class="ttdeci">void unique(Container &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="_container_util_8h_source.html#l00025">ContainerUtil.h:25</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a8190f392a7d9244aef19bc2576863139"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a8190f392a7d9244aef19bc2576863139">inciter::Partitioner::m_centroid</a></div><div class="ttdeci">std::array&lt; std::vector&lt; tk::real &gt;, 3 &gt; m_centroid</div><div class="ttdoc">Element centroid coordinates of our chunk of the mesh. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00369">Partitioner.h:369</a></div></div>
<div class="ttc" id="namespacetk_html_a2e002561a68875b091a264eb2a1e5f6c"><div class="ttname"><a href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a></div><div class="ttdeci">auto cref_find(const Container &amp;map, const typename Container::key_type &amp;key) -&gt; const typename Container::mapped_type &amp;</div><div class="ttdef"><b>Definition:</b> <a href="_container_util_8h_source.html#l00040">ContainerUtil.h:40</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a5806bb29e562563fce2f233ae7b2e81d"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a5806bb29e562563fce2f233ae7b2e81d">inciter::Partitioner::m_tetinpoel</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; m_tetinpoel</div><div class="ttdoc">Tetrtahedron element connectivity of our chunk of the mesh. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00365">Partitioner.h:365</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a86f839bf419fe22d2cddcb9865cc2205"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a86f839bf419fe22d2cddcb9865cc2205">inciter::Partitioner::m_host</a></div><div class="ttdeci">HostProxy m_host</div><div class="ttdoc">Host proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00340">Partitioner.h:340</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_a56828dface8231481b0e74bf30795be6_cgraph.svg" width="414" height="260"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab0c9d7f7df5c42c589e6b0761a999f54"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575">tk::real</a> <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::cost </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>lower</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>upper</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Compute communication cost of linear system merging for our PE </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lower</td><td>Lower global row ID of linear system this PE works on </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">upper</td><td>Upper global row ID of linear system this PE works on </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Communicatoin cost of merging the linear system for our PE</dd></dl>
<p>The cost is a real number between 0 and 1, defined as the number of mesh points we do not own, i.e., need to send to some other PE, divided by the total number of points we contribute to. The lower the better. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00754">754</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00773">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::signal2host_avecost()</a>.</p>
<div class="fragment"><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                                                    {</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      std::size_t ownpts = 0, compts = 0;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> p : <a class="code" href="classinciter_1_1_partitioner.html#a1b204c2336d0c7bf9d537e1ad76582ff">m_id</a>) <span class="keywordflow">if</span> (p &gt;= <a class="code" href="classinciter_1_1_partitioner.html#a1efc884c6d615bfa0df4ac0436d7dfe4">lower</a> &amp;&amp; p &lt; upper) ++ownpts; <span class="keywordflow">else</span> ++compts;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575">tk::real</a><span class="keyword">&gt;</span>(compts) /</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;             static_cast&lt;tk::real&gt;(ownpts + compts);</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a1b204c2336d0c7bf9d537e1ad76582ff"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a1b204c2336d0c7bf9d537e1ad76582ff">inciter::Partitioner::m_id</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; m_id</div><div class="ttdoc">Unique global node IDs chares on our PE will contribute to in a linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00393">Partitioner.h:393</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a1efc884c6d615bfa0df4ac0436d7dfe4"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a1efc884c6d615bfa0df4ac0436d7dfe4">inciter::Partitioner::lower</a></div><div class="ttdeci">void lower(std::size_t low)</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00249">Partitioner.h:249</a></div></div>
<div class="ttc" id="namespacetk_html_a1a96ada94b7e2911ecca0a360f305575"><div class="ttname"><a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575">tk::real</a></div><div class="ttdeci">double real</div><div class="ttdoc">Real number type used throughout the whole code. </div><div class="ttdef"><b>Definition:</b> <a href="_base_2_types_8h_source.html#l00018">Types.h:18</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afcd4abf221e474f66a64aaa0de75b063"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::create </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create chare array elements on this PE and assign the global mesh element IDs they will operate on. </p>
<p>We create chare array elements by calling the insert() member function, which allows specifying the PE on which the array element is created and we send each chare array element the global mesh element connectivity, i.e., node IDs, it contributes to and the old-&gt;new node ID map. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00722">722</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>References <a class="el" href="_container_util_8h_source.html#l00040">tk::cref_find()</a>, and <a class="el" href="_partitioner_8h_source.html#l00773">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::signal2host_avecost()</a>.</p>
<div class="fragment"><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                  {</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      <span class="comment">// Initiate asynchronous reduction across all Partitioner objects</span></div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;      <span class="comment">// computing the average communication cost of merging the linear system</span></div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a7c9ce4cfec526a9d4a4fa5933f332721">signal2host_avecost</a>( <a class="code" href="classinciter_1_1_partitioner.html#a86f839bf419fe22d2cddcb9865cc2205">m_host</a> );</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      <span class="comment">// Compute linear distribution of chares assigned to us</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      <span class="keyword">auto</span> chunksize = <a class="code" href="classinciter_1_1_partitioner.html#a29890eb55e8302458489583b6af9d023">m_nchare</a> / CkNumPes();</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;      <span class="keyword">auto</span> mynchare = chunksize;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      <span class="keywordflow">if</span> (CkMyPe() == CkNumPes()-1) mynchare += <a class="code" href="classinciter_1_1_partitioner.html#a29890eb55e8302458489583b6af9d023">m_nchare</a> % CkNumPes();</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      <span class="comment">// Create worker chare array elements</span></div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c=0; c&lt;mynchare; ++c) {</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        <span class="comment">// Compute chare ID</span></div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        <span class="keyword">auto</span> cid = CkMyPe() * chunksize + c;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        <span class="comment">// Create array element</span></div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        <a class="code" href="classinciter_1_1_partitioner.html#a9f27f075c5faad57f8b04473c4756637">m_worker</a>[ cid ].insert( <a class="code" href="classinciter_1_1_partitioner.html#a86f839bf419fe22d2cddcb9865cc2205">m_host</a>,</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                                <a class="code" href="classinciter_1_1_partitioner.html#a7fcf4a11bfd78126303fb2fe8f7c3bd3">m_linsysmerger</a>,</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                                <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( <a class="code" href="classinciter_1_1_partitioner.html#ae1948f891e6c93b6e151c774aa559699">m_node</a>, cid ),</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                                <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( <a class="code" href="classinciter_1_1_partitioner.html#aaf4c43cb76be8a76db40a73a44c66d10">m_chcid</a>, cid ),</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                                CkMyPe() );</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;      }</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a9f27f075c5faad57f8b04473c4756637">m_worker</a>.doneInserting();</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;      <span class="comment">// Broadcast our bounds of global node IDs to all linear system mergers</span></div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a7fcf4a11bfd78126303fb2fe8f7c3bd3">m_linsysmerger</a>.bounds( CkMyPe(), <a class="code" href="classinciter_1_1_partitioner.html#a3cf4e2d3a24417b4e62584a33fba5fe4">m_lower</a>, <a class="code" href="classinciter_1_1_partitioner.html#a23b0258af4481dd9896ba103a5d23326">m_upper</a> );</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a7c9ce4cfec526a9d4a4fa5933f332721"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a7c9ce4cfec526a9d4a4fa5933f332721">inciter::Partitioner::signal2host_avecost</a></div><div class="ttdeci">void signal2host_avecost(const CProxy_Conductor &amp;host)</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00773">Partitioner.h:773</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a23b0258af4481dd9896ba103a5d23326"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a23b0258af4481dd9896ba103a5d23326">inciter::Partitioner::m_upper</a></div><div class="ttdeci">std::size_t m_upper</div><div class="ttdoc">Upper bound of node IDs our PE operates on after reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00375">Partitioner.h:375</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a29890eb55e8302458489583b6af9d023"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a29890eb55e8302458489583b6af9d023">inciter::Partitioner::m_nchare</a></div><div class="ttdeci">int m_nchare</div><div class="ttdoc">Total number of chares across all PEs. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00371">Partitioner.h:371</a></div></div>
<div class="ttc" id="namespacetk_html_a2e002561a68875b091a264eb2a1e5f6c"><div class="ttname"><a href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a></div><div class="ttdeci">auto cref_find(const Container &amp;map, const typename Container::key_type &amp;key) -&gt; const typename Container::mapped_type &amp;</div><div class="ttdef"><b>Definition:</b> <a href="_container_util_8h_source.html#l00040">ContainerUtil.h:40</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_aaf4c43cb76be8a76db40a73a44c66d10"><div class="ttname"><a href="classinciter_1_1_partitioner.html#aaf4c43cb76be8a76db40a73a44c66d10">inciter::Partitioner::m_chcid</a></div><div class="ttdeci">std::unordered_map&lt; int, std::unordered_map&lt; std::size_t, std::size_t &gt; &gt; m_chcid</div><div class="ttdoc">Maps associating old node IDs to new node IDs categorized by chares. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00411">Partitioner.h:411</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a3cf4e2d3a24417b4e62584a33fba5fe4"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a3cf4e2d3a24417b4e62584a33fba5fe4">inciter::Partitioner::m_lower</a></div><div class="ttdeci">std::size_t m_lower</div><div class="ttdoc">Lower bound of node IDs our PE operates on after reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00373">Partitioner.h:373</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ae1948f891e6c93b6e151c774aa559699"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ae1948f891e6c93b6e151c774aa559699">inciter::Partitioner::m_node</a></div><div class="ttdeci">std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt; m_node</div><div class="ttdoc">Global mesh node ids associated to chares owned. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00380">Partitioner.h:380</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a9f27f075c5faad57f8b04473c4756637"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a9f27f075c5faad57f8b04473c4756637">inciter::Partitioner::m_worker</a></div><div class="ttdeci">WorkerProxy m_worker</div><div class="ttdoc">Worker proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00342">Partitioner.h:342</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a86f839bf419fe22d2cddcb9865cc2205"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a86f839bf419fe22d2cddcb9865cc2205">inciter::Partitioner::m_host</a></div><div class="ttdeci">HostProxy m_host</div><div class="ttdoc">Host proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00340">Partitioner.h:340</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a7fcf4a11bfd78126303fb2fe8f7c3bd3"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a7fcf4a11bfd78126303fb2fe8f7c3bd3">inciter::Partitioner::m_linsysmerger</a></div><div class="ttdeci">LinSysMergerProxy m_linsysmerger</div><div class="ttdoc">Linear system merger proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00344">Partitioner.h:344</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_afcd4abf221e474f66a64aaa0de75b063_cgraph.svg" width="535" height="99"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a754ec2ed241b9ec78b01b84e270df254"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::distribute </td>
          <td>(</td>
          <td class="paramtype">std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Distribute global mesh node IDs to their owner PEs </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>Global mesh node IDs connecting elements associated to chare IDs on this PE resulting from partitioning the mesh elements. Note that this data is moved in.</td></tr>
  </table>
  </dd>
</dl>
<p>Chare ids are distributed to PEs in a linear continguous order with the last PE taking the remainder if the number of PEs is not divisible by the number chares. For example, if nchare=7 and npe=3, the chare distribution is PE0: 0 1, PE1: 2 3, and PE2: 4 5 6. As a result of this distribution, all PEs will have their m_node map filled with the global mesh node IDs associated to the Charm++ chare IDs each PE owns. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00520">520</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>References <a class="el" href="_exception_8h_source.html#l00049">Assert</a>, <a class="el" href="_partitioner_8h_source.html#l00571">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::chareDistribution()</a>, <a class="el" href="_partitioner_8h_source.html#l00547">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::flatten()</a>, <a class="el" href="_partitioner_8h_source.html#l00627">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::pe()</a>, and <a class="el" href="_partitioner_8h_source.html#l00620">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::recvnodes()</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00169">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::partition()</a>.</p>
<div class="fragment"><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    {</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      <span class="keywordtype">int</span> chunksize, mynchare;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      std::tie( chunksize, mynchare ) = <a class="code" href="classinciter_1_1_partitioner.html#a9e96c88d1373b6c3c878022a7b428ff0">chareDistribution</a>();</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c=0; c&lt;mynchare; ++c) {</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        <span class="keyword">auto</span> chid = CkMyPe() * chunksize + c; <span class="comment">// compute owned chare ID</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> it = n.find( chid );       <span class="comment">// attempt to find its nodes</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <span class="keywordflow">if</span> (it != <a class="code" href="namespacekw.html#a3d5542e9817eb16f871c22a15595e837">end</a>(n)) {                   <span class="comment">// if found</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;          <a class="code" href="classinciter_1_1_partitioner.html#ae1948f891e6c93b6e151c774aa559699">m_node</a>.insert( *it );               <span class="comment">// move over owned key-value pairs</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;          n.erase( it );                      <span class="comment">// remove chare ID and nodes</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        }</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <a class="code" href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a>( n.find(chid) == <a class="code" href="namespacekw.html#a3d5542e9817eb16f871c22a15595e837">end</a>(n), <span class="stringliteral">&quot;Not all owned node IDs stored&quot;</span> );</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      }</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;      <span class="comment">// Construct export map associating those map entries (mesh node indices</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      <span class="comment">// associated to chare IDs) owned by chares we do not own. Outer key: PE</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;      <span class="comment">// to export to, inner key: chare ID, value: vector of global node IDs</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;      std::unordered_map&lt; int,</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt; &gt; exp;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; c : n) exp[ <a class="code" href="classinciter_1_1_partitioner.html#ae910cfcec84dc903e4245f046b2acf3c">pe</a>(c.first) ].insert( std::move(c) );</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;      <span class="comment">// Export chare IDs and node IDs we do not own to fellow PEs</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a63d455d5c78d6291abaff7a58dd5398d">m_npe</a> = exp.size();</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; p : exp)</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        Group::thisProxy[ p.first ].add( CkMyPe(), p.second );</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classinciter_1_1_partitioner.html#ad86702672127c44131db862907418b18">recvnodes</a>()) <a class="code" href="classinciter_1_1_partitioner.html#ac5d8fc6bfcf39a2a4bf7414df3a8fff8">flatten</a>();</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_ae910cfcec84dc903e4245f046b2acf3c"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ae910cfcec84dc903e4245f046b2acf3c">inciter::Partitioner::pe</a></div><div class="ttdeci">int pe(int id) const </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00627">Partitioner.h:627</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a63d455d5c78d6291abaff7a58dd5398d"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a63d455d5c78d6291abaff7a58dd5398d">inciter::Partitioner::m_npe</a></div><div class="ttdeci">std::size_t m_npe</div><div class="ttdoc">Number of fellow PEs to send elem IDs to. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00346">Partitioner.h:346</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ac5d8fc6bfcf39a2a4bf7414df3a8fff8"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ac5d8fc6bfcf39a2a4bf7414df3a8fff8">inciter::Partitioner::flatten</a></div><div class="ttdeci">void flatten()</div><div class="ttdoc">Prepare owned mesh node IDs for reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00547">Partitioner.h:547</a></div></div>
<div class="ttc" id="namespacekw_html_a3d5542e9817eb16f871c22a15595e837"><div class="ttname"><a href="namespacekw.html#a3d5542e9817eb16f871c22a15595e837">kw::end</a></div><div class="ttdeci">keyword&lt; end_info, e, n, d &gt; end</div><div class="ttdef"><b>Definition:</b> <a href="_keywords_8h_source.html#l00174">Keywords.h:174</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ae1948f891e6c93b6e151c774aa559699"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ae1948f891e6c93b6e151c774aa559699">inciter::Partitioner::m_node</a></div><div class="ttdeci">std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt; m_node</div><div class="ttdoc">Global mesh node ids associated to chares owned. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00380">Partitioner.h:380</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ad86702672127c44131db862907418b18"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ad86702672127c44131db862907418b18">inciter::Partitioner::recvnodes</a></div><div class="ttdeci">bool recvnodes() const </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00620">Partitioner.h:620</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a9e96c88d1373b6c3c878022a7b428ff0"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a9e96c88d1373b6c3c878022a7b428ff0">inciter::Partitioner::chareDistribution</a></div><div class="ttdeci">std::pair&lt; int, int &gt; chareDistribution() const </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00571">Partitioner.h:571</a></div></div>
<div class="ttc" id="_exception_8h_html_a6e509ba096551a0924ec024afadba810"><div class="ttname"><a href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a></div><div class="ttdeci">#define Assert(expr,...)</div><div class="ttdoc">Assert macro that only throws an exception if expr fails. </div><div class="ttdef"><b>Definition:</b> <a href="_exception_8h_source.html#l00049">Exception.h:49</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_a754ec2ed241b9ec78b01b84e270df254_cgraph.svg" width="567" height="218"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac5d8fc6bfcf39a2a4bf7414df3a8fff8"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::flatten </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare owned mesh node IDs for reordering. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00547">547</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>References <a class="el" href="_exception_8h_source.html#l00049">Assert</a>, <a class="el" href="_partitioner_8h_source.html#l00571">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::chareDistribution()</a>, <a class="el" href="_partitioner_8h_source.html#l00798">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::signal2host_flattened()</a>, and <a class="el" href="_container_util_8h_source.html#l00025">tk::unique()</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00520">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::distribute()</a>, and <a class="el" href="_partitioner_8h_source.html#l00242">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::recv()</a>.</p>
<div class="fragment"><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                   {</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      <span class="comment">// Make sure we are not fed garbage</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      <span class="keywordtype">int</span> chunksize, mynchare;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      std::tie( chunksize, mynchare ) = <a class="code" href="classinciter_1_1_partitioner.html#a9e96c88d1373b6c3c878022a7b428ff0">chareDistribution</a>();</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      <a class="code" href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a>( <a class="code" href="classinciter_1_1_partitioner.html#ae1948f891e6c93b6e151c774aa559699">m_node</a>.size() == <span class="keyword">static_cast&lt;</span>std::size_t<span class="keyword">&gt;</span>(mynchare),</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;              <span class="stringliteral">&quot;Global mesh nodes ids associated to chares on PE &quot;</span> +</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;              std::to_string( CkMyPe() ) + <span class="stringliteral">&quot; is incomplete&quot;</span> );</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      <span class="comment">// Flatten node IDs of elements our chares operate on</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; c : <a class="code" href="classinciter_1_1_partitioner.html#ae1948f891e6c93b6e151c774aa559699">m_node</a>)</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <a class="code" href="classinciter_1_1_partitioner.html#a1b204c2336d0c7bf9d537e1ad76582ff">m_id</a>.insert( <a class="code" href="namespacekw.html#a3d5542e9817eb16f871c22a15595e837">end</a>(<a class="code" href="classinciter_1_1_partitioner.html#a1b204c2336d0c7bf9d537e1ad76582ff">m_id</a>), begin(c.second), <a class="code" href="namespacekw.html#a3d5542e9817eb16f871c22a15595e837">end</a>(c.second) );</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      <span class="comment">// Make node IDs unique, these need reordering on our PE</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      <a class="code" href="namespacetk.html#a87af1b002bc711716bd170a714bda211">tk::unique</a>( <a class="code" href="classinciter_1_1_partitioner.html#a1b204c2336d0c7bf9d537e1ad76582ff">m_id</a> );</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      <span class="comment">// Store mesh node IDs in hash-set</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      std::copy( begin(<a class="code" href="classinciter_1_1_partitioner.html#a1b204c2336d0c7bf9d537e1ad76582ff">m_id</a>), <a class="code" href="namespacekw.html#a3d5542e9817eb16f871c22a15595e837">end</a>(<a class="code" href="classinciter_1_1_partitioner.html#a1b204c2336d0c7bf9d537e1ad76582ff">m_id</a>), std::inserter(<a class="code" href="classinciter_1_1_partitioner.html#ad13da23201c5cd9eaf0c7a4d60d57b09">m_sid</a>,<a class="code" href="namespacekw.html#a3d5542e9817eb16f871c22a15595e837">end</a>(<a class="code" href="classinciter_1_1_partitioner.html#ad13da23201c5cd9eaf0c7a4d60d57b09">m_sid</a>)) );</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;      <span class="comment">// Signal host that we are ready for computing the communication map,</span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      <span class="comment">// required for parallel distributed global mesh node reordering</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#aed8c5c5a41ca8b3e608a2d678d0bc74f">signal2host_flattened</a>( <a class="code" href="classinciter_1_1_partitioner.html#a86f839bf419fe22d2cddcb9865cc2205">m_host</a> );</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_aed8c5c5a41ca8b3e608a2d678d0bc74f"><div class="ttname"><a href="classinciter_1_1_partitioner.html#aed8c5c5a41ca8b3e608a2d678d0bc74f">inciter::Partitioner::signal2host_flattened</a></div><div class="ttdeci">void signal2host_flattened(const CProxy_Conductor &amp;host)</div><div class="ttdoc">Signal host that we are ready for computing the communication map, required for parallel distributed ...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00798">Partitioner.h:798</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a1b204c2336d0c7bf9d537e1ad76582ff"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a1b204c2336d0c7bf9d537e1ad76582ff">inciter::Partitioner::m_id</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; m_id</div><div class="ttdoc">Unique global node IDs chares on our PE will contribute to in a linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00393">Partitioner.h:393</a></div></div>
<div class="ttc" id="namespacetk_html_a87af1b002bc711716bd170a714bda211"><div class="ttname"><a href="namespacetk.html#a87af1b002bc711716bd170a714bda211">tk::unique</a></div><div class="ttdeci">void unique(Container &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="_container_util_8h_source.html#l00025">ContainerUtil.h:25</a></div></div>
<div class="ttc" id="namespacekw_html_a3d5542e9817eb16f871c22a15595e837"><div class="ttname"><a href="namespacekw.html#a3d5542e9817eb16f871c22a15595e837">kw::end</a></div><div class="ttdeci">keyword&lt; end_info, e, n, d &gt; end</div><div class="ttdef"><b>Definition:</b> <a href="_keywords_8h_source.html#l00174">Keywords.h:174</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ae1948f891e6c93b6e151c774aa559699"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ae1948f891e6c93b6e151c774aa559699">inciter::Partitioner::m_node</a></div><div class="ttdeci">std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt; m_node</div><div class="ttdoc">Global mesh node ids associated to chares owned. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00380">Partitioner.h:380</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a9e96c88d1373b6c3c878022a7b428ff0"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a9e96c88d1373b6c3c878022a7b428ff0">inciter::Partitioner::chareDistribution</a></div><div class="ttdeci">std::pair&lt; int, int &gt; chareDistribution() const </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00571">Partitioner.h:571</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a86f839bf419fe22d2cddcb9865cc2205"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a86f839bf419fe22d2cddcb9865cc2205">inciter::Partitioner::m_host</a></div><div class="ttdeci">HostProxy m_host</div><div class="ttdoc">Host proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00340">Partitioner.h:340</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ad13da23201c5cd9eaf0c7a4d60d57b09"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ad13da23201c5cd9eaf0c7a4d60d57b09">inciter::Partitioner::m_sid</a></div><div class="ttdeci">std::unordered_set&lt; std::size_t &gt; m_sid</div><div class="ttdoc">Global mesh node IDs associated in hash set. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00400">Partitioner.h:400</a></div></div>
<div class="ttc" id="_exception_8h_html_a6e509ba096551a0924ec024afadba810"><div class="ttname"><a href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a></div><div class="ttdeci">#define Assert(expr,...)</div><div class="ttdoc">Assert macro that only throws an exception if expr fails. </div><div class="ttdef"><b>Definition:</b> <a href="_exception_8h_source.html#l00049">Exception.h:49</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_ac5d8fc6bfcf39a2a4bf7414df3a8fff8_cgraph.svg" width="360" height="162"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="abca9296b267bf81197dd9b82c62d607d"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::gather </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start gathering global node IDs this PE will need to receive (instead of assign) during reordering. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00265">265</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>References <a class="el" href="_partitioner_8h_source.html#l00393">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_id</a>.</p>
<div class="fragment"><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;{ Group::thisProxy.query( CkMyPe(), <a class="code" href="classinciter_1_1_partitioner.html#a1b204c2336d0c7bf9d537e1ad76582ff">m_id</a> ); }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a1b204c2336d0c7bf9d537e1ad76582ff"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a1b204c2336d0c7bf9d537e1ad76582ff">inciter::Partitioner::m_id</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; m_id</div><div class="ttdoc">Unique global node IDs chares on our PE will contribute to in a linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00393">Partitioner.h:393</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1efc884c6d615bfa0df4ac0436d7dfe4"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::lower </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>low</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Receive lower bound of node IDs our PE operates on after reordering </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">low</td><td>Lower bound of node IDs assigned to us </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00249">249</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>References <a class="el" href="_partitioner_8h_source.html#l00373">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_lower</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00690">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::bounds()</a>.</p>
<div class="fragment"><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                                {</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a3cf4e2d3a24417b4e62584a33fba5fe4">m_lower</a> = low;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      trigger_lower();</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a3cf4e2d3a24417b4e62584a33fba5fe4"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a3cf4e2d3a24417b4e62584a33fba5fe4">inciter::Partitioner::m_lower</a></div><div class="ttdeci">std::size_t m_lower</div><div class="ttdoc">Lower bound of node IDs our PE operates on after reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00373">Partitioner.h:373</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0e4a159187908a958f046dde7d7c2c40"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::mask </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>rec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Receive mask of to-be-received global mesh node IDs </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pe</td><td>The PE uniquely assigns the node IDs marked by 1 in rec </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rec</td><td>Mask vector containing 1 if the pe owns the node ID, 0 if it does not</td></tr>
  </table>
  </dd>
</dl>
<p>Note that every PE will call this function, since <a class="el" href="classinciter_1_1_partitioner.html#a7b9ec47eef76e0a7b8a684616326be09" title="Query our global node IDs by other PEs so they know if they receive IDs for those from during reorder...">query()</a> was called in a broadcast fashion and <a class="el" href="classinciter_1_1_partitioner.html#a7b9ec47eef76e0a7b8a684616326be09" title="Query our global node IDs by other PEs so they know if they receive IDs for those from during reorder...">query()</a> answers to every PE once. This is more efficient than calling only the PEs from which we would have to receive results from. Thus the incoming results are only interesting from PEs with lower IDs than ours. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00299">299</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>References <a class="el" href="_exception_8h_source.html#l00049">Assert</a>, <a class="el" href="_partitioner_8h_source.html#l00384">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_comm</a>, <a class="el" href="_partitioner_8h_source.html#l00390">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_communication</a>, <a class="el" href="_partitioner_8h_source.html#l00393">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_id</a>, <a class="el" href="_partitioner_8h_source.html#l00363">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_nquery</a>, <a class="el" href="_partitioner_8h_source.html#l00400">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_sid</a>, and <a class="el" href="_partitioner_8h_source.html#l00627">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::pe()</a>.</p>
<div class="fragment"><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                                                     {</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      <span class="comment">// Associate global mesh node IDs to lower PEs we will need to receive</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      <span class="comment">// from during node reordering. The choice of associated container is</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <span class="comment">// std::map, which is ordered (vs. unordered, hash-map). This is required</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      <span class="comment">// by the following operation that makes the mesh node IDs unique in the</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      <span class="comment">// communication map. (We are called in an unordered fashion, so we need</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <span class="comment">// to collect from all PEs and then we need to make the node IDs unique,</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <span class="comment">// keeping only the lowest PEs a node ID is associated with.)</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classinciter_1_1_partitioner.html#ae910cfcec84dc903e4245f046b2acf3c">pe</a> &lt; CkMyPe()) {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keyword">auto</span>&amp; <span class="keywordtype">id</span> = <a class="code" href="classinciter_1_1_partitioner.html#ac511a8a1c691ceef833c17077d1b822a">m_comm</a>[ <a class="code" href="classinciter_1_1_partitioner.html#ae910cfcec84dc903e4245f046b2acf3c">pe</a> ];</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="keywordflow">for</span> (std::size_t i=0; i&lt;rec.size(); ++i)</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;          <span class="keywordflow">if</span> (rec[i]) <span class="keywordtype">id</span>.insert( <a class="code" href="classinciter_1_1_partitioner.html#a1b204c2336d0c7bf9d537e1ad76582ff">m_id</a>[i] );</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      }</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <span class="keywordflow">if</span> (++<a class="code" href="classinciter_1_1_partitioner.html#abfa959e5fd79961cae2923a1e5b44772">m_nquery</a> == static_cast&lt;std::size_t&gt;(CkNumPes())) {</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <span class="comment">// Make sure we have received all we need</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <a class="code" href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a>( <a class="code" href="classinciter_1_1_partitioner.html#ac511a8a1c691ceef833c17077d1b822a">m_comm</a>.size() == <span class="keyword">static_cast&lt;</span>std::size_t<span class="keyword">&gt;</span>(CkMyPe()),</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                <span class="stringliteral">&quot;Communication map size on PE &quot;</span> +</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                std::to_string(CkMyPe()) + <span class="stringliteral">&quot; must equal &quot;</span> +</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                std::to_string(CkMyPe()) );</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="comment">// Fill new hash-map, keeping only unique node IDs obtained from the</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="comment">// lowest possible PEs</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> p=begin(<a class="code" href="classinciter_1_1_partitioner.html#ac511a8a1c691ceef833c17077d1b822a">m_comm</a>); p!=<a class="code" href="namespacekw.html#a3d5542e9817eb16f871c22a15595e837">end</a>(<a class="code" href="classinciter_1_1_partitioner.html#ac511a8a1c691ceef833c17077d1b822a">m_comm</a>); ++p) {</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;          <span class="keyword">auto</span>&amp; u = <a class="code" href="classinciter_1_1_partitioner.html#ad892002917e3abe8197a03a6fa9c1729">m_communication</a>[ p-&gt;first ];</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">auto</span> i : p-&gt;second)</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            <span class="keywordflow">if</span> (std::none_of( begin(<a class="code" href="classinciter_1_1_partitioner.html#ac511a8a1c691ceef833c17077d1b822a">m_comm</a>), p,</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                 [i](<span class="keyword">const</span> <span class="keyword">typename</span> decltype(<a class="code" href="classinciter_1_1_partitioner.html#ac511a8a1c691ceef833c17077d1b822a">m_comm</a>)::value_type&amp; s)</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                 { <span class="keywordflow">return</span> s.second.find(i) != <a class="code" href="namespacekw.html#a3d5542e9817eb16f871c22a15595e837">end</a>(s.second); } )) {</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;              u.insert(i);</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            }</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;          <span class="keywordflow">if</span> (u.empty()) <a class="code" href="classinciter_1_1_partitioner.html#ad892002917e3abe8197a03a6fa9c1729">m_communication</a>.erase( p-&gt;first );</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        }</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <span class="comment">// Count up total number of nodes we will need receive durin reordering</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        std::size_t nrecv = 0;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; u : <a class="code" href="classinciter_1_1_partitioner.html#ad892002917e3abe8197a03a6fa9c1729">m_communication</a>) nrecv += u.second.size();</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <span class="comment">// Start computing PE offsets for node reordering</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        Group::thisProxy.offset( CkMyPe(), <a class="code" href="classinciter_1_1_partitioner.html#ad13da23201c5cd9eaf0c7a4d60d57b09">m_sid</a>.size()-nrecv );</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      }</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_ae910cfcec84dc903e4245f046b2acf3c"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ae910cfcec84dc903e4245f046b2acf3c">inciter::Partitioner::pe</a></div><div class="ttdeci">int pe(int id) const </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00627">Partitioner.h:627</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ac511a8a1c691ceef833c17077d1b822a"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ac511a8a1c691ceef833c17077d1b822a">inciter::Partitioner::m_comm</a></div><div class="ttdeci">std::map&lt; int, std::set&lt; std::size_t &gt; &gt; m_comm</div><div class="ttdoc">Temporary communication map used to receive global mesh node IDs. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00384">Partitioner.h:384</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a1b204c2336d0c7bf9d537e1ad76582ff"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a1b204c2336d0c7bf9d537e1ad76582ff">inciter::Partitioner::m_id</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; m_id</div><div class="ttdoc">Unique global node IDs chares on our PE will contribute to in a linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00393">Partitioner.h:393</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ad892002917e3abe8197a03a6fa9c1729"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ad892002917e3abe8197a03a6fa9c1729">inciter::Partitioner::m_communication</a></div><div class="ttdeci">std::unordered_map&lt; int, std::set&lt; std::size_t &gt; &gt; m_communication</div><div class="ttdoc">Communication map used for distributed mesh node reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00390">Partitioner.h:390</a></div></div>
<div class="ttc" id="namespacekw_html_a3d5542e9817eb16f871c22a15595e837"><div class="ttname"><a href="namespacekw.html#a3d5542e9817eb16f871c22a15595e837">kw::end</a></div><div class="ttdeci">keyword&lt; end_info, e, n, d &gt; end</div><div class="ttdef"><b>Definition:</b> <a href="_keywords_8h_source.html#l00174">Keywords.h:174</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_abfa959e5fd79961cae2923a1e5b44772"><div class="ttname"><a href="classinciter_1_1_partitioner.html#abfa959e5fd79961cae2923a1e5b44772">inciter::Partitioner::m_nquery</a></div><div class="ttdeci">std::size_t m_nquery</div><div class="ttdoc">Counter for number of masks of to-be-received global mesh node IDs received. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00363">Partitioner.h:363</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ad13da23201c5cd9eaf0c7a4d60d57b09"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ad13da23201c5cd9eaf0c7a4d60d57b09">inciter::Partitioner::m_sid</a></div><div class="ttdeci">std::unordered_set&lt; std::size_t &gt; m_sid</div><div class="ttdoc">Global mesh node IDs associated in hash set. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00400">Partitioner.h:400</a></div></div>
<div class="ttc" id="_exception_8h_html_a6e509ba096551a0924ec024afadba810"><div class="ttname"><a href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a></div><div class="ttdeci">#define Assert(expr,...)</div><div class="ttdoc">Assert macro that only throws an exception if expr fails. </div><div class="ttdef"><b>Definition:</b> <a href="_exception_8h_source.html#l00049">Exception.h:49</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_a0e4a159187908a958f046dde7d7c2c40_cgraph.svg" width="352" height="50"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2fe4822b4e5be71ff70403b260140c0c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::neworder </td>
          <td>(</td>
          <td class="paramtype">const std::unordered_map&lt; std::size_t, std::size_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Receive new (reordered) global node IDs </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>Map associating new to old node IDs </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00216">216</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>References <a class="el" href="_partitioner_8h_source.html#l00393">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_id</a>, <a class="el" href="_partitioner_8h_source.html#l00403">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_newid</a>, <a class="el" href="_partitioner_8h_source.html#l00350">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_reordered</a>, and <a class="el" href="_partitioner_8h_source.html#l00657">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::reordered()</a>.</p>
<div class="fragment"><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                                                                        {</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      <span class="comment">// Signal to the runtime system that we have participated in reordering</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      trigger_participated();</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      <span class="comment">// Store new node IDs associated to old ones</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; p : <span class="keywordtype">id</span>) <a class="code" href="classinciter_1_1_partitioner.html#a263b8cb295ea4e781abd0b29851b9dbf">m_newid</a>[ p.first ] = p.second;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#aa7f5688e6ba8f266d5feda6921b54646">m_reordered</a> += <span class="keywordtype">id</span>.size();   <span class="comment">// count up number of reordered nodes</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      <span class="comment">// If we have reordered all our node IDs, send result to host</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classinciter_1_1_partitioner.html#aa7f5688e6ba8f266d5feda6921b54646">m_reordered</a> == <a class="code" href="classinciter_1_1_partitioner.html#a1b204c2336d0c7bf9d537e1ad76582ff">m_id</a>.size()) <a class="code" href="classinciter_1_1_partitioner.html#a16911d97d460bf3d9d8b0a41b89a04df">reordered</a>();</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a16911d97d460bf3d9d8b0a41b89a04df"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a16911d97d460bf3d9d8b0a41b89a04df">inciter::Partitioner::reordered</a></div><div class="ttdeci">void reordered()</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00657">Partitioner.h:657</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a1b204c2336d0c7bf9d537e1ad76582ff"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a1b204c2336d0c7bf9d537e1ad76582ff">inciter::Partitioner::m_id</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; m_id</div><div class="ttdoc">Unique global node IDs chares on our PE will contribute to in a linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00393">Partitioner.h:393</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a263b8cb295ea4e781abd0b29851b9dbf"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a263b8cb295ea4e781abd0b29851b9dbf">inciter::Partitioner::m_newid</a></div><div class="ttdeci">std::unordered_map&lt; std::size_t, std::size_t &gt; m_newid</div><div class="ttdoc">Map associating new node IDs (as in producing contiguous-row-id linear system contributions) to old n...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00403">Partitioner.h:403</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_aa7f5688e6ba8f266d5feda6921b54646"><div class="ttname"><a href="classinciter_1_1_partitioner.html#aa7f5688e6ba8f266d5feda6921b54646">inciter::Partitioner::m_reordered</a></div><div class="ttdeci">std::size_t m_reordered</div><div class="ttdoc">Number of mesh nodes reordered. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00350">Partitioner.h:350</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_a2fe4822b4e5be71ff70403b260140c0c_cgraph.svg" width="100%" height="374"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a60d7b43f03871915ab676bbd2ce552db"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::offset </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>u</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Receive number of uniquely assigned global mesh node IDs from lower PEs</p>
<p>This function computes the offset each PE will need to start assigning its new node IDs from (for those nodes that are not assigned new IDs by any PEs with lower indices). The offset for a PE is the offset for the previous PE plus the number of node IDs the previous PE (uniquely) assigns new IDs for minus the number of node IDs the previous PE receives from others (lower PEs). This is computed here in a parallel/distributed fashion by each PE sending its number of node IDs (that it uniquely assigns) to all PEs. Note that each PE would only need to send this information to higher PEs, but instead this function is called in a broadcast fashion, because that is more efficient than individual calls to only the higher PEs. Therefore when computing the offsets, we only count the lower PEs. When this is done, we have the precise communication map as well as the start offset on all PEs and so we can start the distributed global mesh node ID reordering. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00199">199</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>References <a class="el" href="_partitioner_8h_source.html#l00357">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_noffset</a>, <a class="el" href="_partitioner_8h_source.html#l00352">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_start</a>, and <a class="el" href="_partitioner_8h_source.html#l00579">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::reorder()</a>.</p>
<div class="fragment"><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                                       {</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classinciter_1_1_partitioner.html#ae910cfcec84dc903e4245f046b2acf3c">pe</a> &lt; CkMyPe()) <a class="code" href="classinciter_1_1_partitioner.html#a2752c355fd5be73ed779bdf5d8b5aa75">m_start</a> += u;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      <span class="keywordflow">if</span> (++<a class="code" href="classinciter_1_1_partitioner.html#ace7332dc69bd2f5148dd578726b06e58">m_noffset</a> == static_cast&lt;std::size_t&gt;(CkNumPes())) <a class="code" href="classinciter_1_1_partitioner.html#ae6d964a5217ec2a9f48440343b04842e">reorder</a>();</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_ae910cfcec84dc903e4245f046b2acf3c"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ae910cfcec84dc903e4245f046b2acf3c">inciter::Partitioner::pe</a></div><div class="ttdeci">int pe(int id) const </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00627">Partitioner.h:627</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ae6d964a5217ec2a9f48440343b04842e"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ae6d964a5217ec2a9f48440343b04842e">inciter::Partitioner::reorder</a></div><div class="ttdeci">void reorder()</div><div class="ttdoc">Reorder global mesh node IDs. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00579">Partitioner.h:579</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a2752c355fd5be73ed779bdf5d8b5aa75"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a2752c355fd5be73ed779bdf5d8b5aa75">inciter::Partitioner::m_start</a></div><div class="ttdeci">std::size_t m_start</div><div class="ttdoc">Starting global mesh node ID for node reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00352">Partitioner.h:352</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ace7332dc69bd2f5148dd578726b06e58"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ace7332dc69bd2f5148dd578726b06e58">inciter::Partitioner::m_noffset</a></div><div class="ttdeci">std::size_t m_noffset</div><div class="ttdoc">Counter for number of offsets. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00357">Partitioner.h:357</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_a60d7b43f03871915ab676bbd2ce552db_cgraph.svg" width="100%" height="374"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a869f31be724296cfe06cb04674953206"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::partition </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nchare</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Partition the computational mesh </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">nchare</td><td>Number of parts the mesh will be partitioned into </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00169">169</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>References <a class="el" href="_exception_8h_source.html#l00049">Assert</a>, <a class="el" href="_partitioner_8h_source.html#l00475">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::chareNodes()</a>, <a class="el" href="_partitioner_8h_source.html#l00520">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::distribute()</a>, <a class="el" href="_zoltan_inter_op_8_c_source.html#l00103">tk::zoltan::geomPartMesh()</a>, <a class="el" href="_control_8h_source.html#l00049">tk::Control&lt; Ts &gt;::get()</a>, <a class="el" href="_partitioner_8h_source.html#l00369">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_centroid</a>, <a class="el" href="_partitioner_8h_source.html#l00367">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_gelemid</a>, <a class="el" href="_partitioner_8h_source.html#l00371">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_nchare</a>, and <a class="el" href="_partitioner_8h_source.html#l00365">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_tetinpoel</a>.</p>
<div class="fragment"><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                                 {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a29890eb55e8302458489583b6af9d023">m_nchare</a> = nchare;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> alg = <a class="code" href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">g_inputdeck</a>.<a class="code" href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">get</a>&lt; <a class="code" href="structtag_1_1selected.html">tag::selected</a>, <a class="code" href="structtag_1_1partitioner.html">tag::partitioner</a> &gt;();</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> che = <a class="code" href="namespacetk_1_1zoltan.html#aed39aba24cadd698c01e18e95fd964b7">tk::zoltan::geomPartMesh</a>( alg,</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                                                 <a class="code" href="classinciter_1_1_partitioner.html#a8190f392a7d9244aef19bc2576863139">m_centroid</a>,</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                                                 <a class="code" href="classinciter_1_1_partitioner.html#ae252cbd5790b69eaa6e4db451f188bfb">m_gelemid</a>,</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                                                 <a class="code" href="classinciter_1_1_partitioner.html#a5806bb29e562563fce2f233ae7b2e81d">m_tetinpoel</a>.size()/4,</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                                                 nchare );</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      <a class="code" href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a>( che.size() == <a class="code" href="classinciter_1_1_partitioner.html#ae252cbd5790b69eaa6e4db451f188bfb">m_gelemid</a>.size(), <span class="stringliteral">&quot;Size of ownership array does &quot;</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;              <span class="stringliteral">&quot;not equal the number of mesh graph elements&quot;</span> );</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      <span class="comment">// Construct global mesh node ids for each chare and distribute</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a754ec2ed241b9ec78b01b84e270df254">distribute</a>( <a class="code" href="classinciter_1_1_partitioner.html#a61cbe90a4acc00a6874fd0aedc743377">chareNodes</a>(che) );</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    }</div><div class="ttc" id="namespacetk_1_1zoltan_html_aed39aba24cadd698c01e18e95fd964b7"><div class="ttname"><a href="namespacetk_1_1zoltan.html#aed39aba24cadd698c01e18e95fd964b7">tk::zoltan::geomPartMesh</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; geomPartMesh(tk::ctr::PartitioningAlgorithmType algorithm, const std::array&lt; std::vector&lt; tk::real &gt;, 3 &gt; &amp;centroid, const std::vector&lt; std::size_t &gt; &amp;elemid, std::size_t nelem, int npart)</div><div class="ttdoc">Partition mesh using Zoltan2 with a geometric partitioner, such as RCB, RIB. </div><div class="ttdef"><b>Definition:</b> <a href="_zoltan_inter_op_8_c_source.html#l00103">ZoltanInterOp.C:103</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a8190f392a7d9244aef19bc2576863139"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a8190f392a7d9244aef19bc2576863139">inciter::Partitioner::m_centroid</a></div><div class="ttdeci">std::array&lt; std::vector&lt; tk::real &gt;, 3 &gt; m_centroid</div><div class="ttdoc">Element centroid coordinates of our chunk of the mesh. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00369">Partitioner.h:369</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a29890eb55e8302458489583b6af9d023"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a29890eb55e8302458489583b6af9d023">inciter::Partitioner::m_nchare</a></div><div class="ttdeci">int m_nchare</div><div class="ttdoc">Total number of chares across all PEs. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00371">Partitioner.h:371</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a61cbe90a4acc00a6874fd0aedc743377"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a61cbe90a4acc00a6874fd0aedc743377">inciter::Partitioner::chareNodes</a></div><div class="ttdeci">std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt; chareNodes(const std::vector&lt; std::size_t &gt; &amp;che) const </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00475">Partitioner.h:475</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a754ec2ed241b9ec78b01b84e270df254"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a754ec2ed241b9ec78b01b84e270df254">inciter::Partitioner::distribute</a></div><div class="ttdeci">void distribute(std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt; &amp;&amp;n)</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00520">Partitioner.h:520</a></div></div>
<div class="ttc" id="structtag_1_1selected_html"><div class="ttname"><a href="structtag_1_1selected.html">tag::selected</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00110">Tags.h:110</a></div></div>
<div class="ttc" id="structtag_1_1partitioner_html"><div class="ttname"><a href="structtag_1_1partitioner.html">tag::partitioner</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00057">Tags.h:57</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a5806bb29e562563fce2f233ae7b2e81d"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a5806bb29e562563fce2f233ae7b2e81d">inciter::Partitioner::m_tetinpoel</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; m_tetinpoel</div><div class="ttdoc">Tetrtahedron element connectivity of our chunk of the mesh. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00365">Partitioner.h:365</a></div></div>
<div class="ttc" id="classtk_1_1_control_html_a85c14acef1b9de96946fcf2ab7c08721"><div class="ttname"><a href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">tk::Control::get</a></div><div class="ttdeci">constexpr const Tuple::template nT&lt; tag &gt; &amp; get() const noexcept</div><div class="ttdoc">Const-ref accessor to single element at 1st level. </div><div class="ttdef"><b>Definition:</b> <a href="_control_8h_source.html#l00049">Control.h:49</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ae252cbd5790b69eaa6e4db451f188bfb"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ae252cbd5790b69eaa6e4db451f188bfb">inciter::Partitioner::m_gelemid</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; m_gelemid</div><div class="ttdoc">Global element IDs we read (our chunk of the mesh) </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00367">Partitioner.h:367</a></div></div>
<div class="ttc" id="_exception_8h_html_a6e509ba096551a0924ec024afadba810"><div class="ttname"><a href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a></div><div class="ttdeci">#define Assert(expr,...)</div><div class="ttdoc">Assert macro that only throws an exception if expr fails. </div><div class="ttdef"><b>Definition:</b> <a href="_exception_8h_source.html#l00049">Exception.h:49</a></div></div>
<div class="ttc" id="namespaceinciter_html_a090ec6ca70e71bf204aa6ed5295bcaf3"><div class="ttname"><a href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">inciter::g_inputdeck</a></div><div class="ttdeci">ctr::InputDeck g_inputdeck</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00074">Partitioner.h:74</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_a869f31be724296cfe06cb04674953206_cgraph.svg" width="100%" height="478"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae910cfcec84dc903e4245f046b2acf3c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::pe </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return processing element for chare id </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>Chare id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PE that creates the chare</dd></dl>
<p>This is computed based on a simple contiguous linear distribution of chare ids to PEs. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00627">627</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>References <a class="el" href="_exception_8h_source.html#l00049">Assert</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00228">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::add()</a>, <a class="el" href="_partitioner_8h_source.html#l00520">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::distribute()</a>, <a class="el" href="_partitioner_8h_source.html#l00299">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::mask()</a>, <a class="el" href="_partitioner_8h_source.html#l00279">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::query()</a>, and <a class="el" href="_partitioner_8h_source.html#l00207">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::request()</a>.</p>
<div class="fragment"><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                           {</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;      <span class="keyword">auto</span> p = <span class="keywordtype">id</span> / (<a class="code" href="classinciter_1_1_partitioner.html#a29890eb55e8302458489583b6af9d023">m_nchare</a> / CkNumPes());</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;      <span class="keywordflow">if</span> (p &gt;= CkNumPes()) p = CkNumPes()-1;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      <a class="code" href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a>( p &lt; CkNumPes(), <span class="stringliteral">&quot;Assigning to nonexistent PE&quot;</span> );</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      <span class="keywordflow">return</span> p;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a29890eb55e8302458489583b6af9d023"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a29890eb55e8302458489583b6af9d023">inciter::Partitioner::m_nchare</a></div><div class="ttdeci">int m_nchare</div><div class="ttdoc">Total number of chares across all PEs. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00371">Partitioner.h:371</a></div></div>
<div class="ttc" id="_exception_8h_html_a6e509ba096551a0924ec024afadba810"><div class="ttname"><a href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a></div><div class="ttdeci">#define Assert(expr,...)</div><div class="ttdoc">Assert macro that only throws an exception if expr fails. </div><div class="ttdef"><b>Definition:</b> <a href="_exception_8h_source.html#l00049">Exception.h:49</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afe58d4fc6a9ecabf3448b3b7fe1e1f35"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::prepare </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Associate new node IDs to old ones and return them to the requestor(s) </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00635">635</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>References <a class="el" href="_container_util_8h_source.html#l00040">tk::cref_find()</a>.</p>
<div class="fragment"><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                   {</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      <span class="comment">// Signal to the runtime system that we have participated in reordering</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      trigger_participated();</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; r : <a class="code" href="classinciter_1_1_partitioner.html#ae4ac250214fbae307f1d15d170bab0a1">m_req</a>) {</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        std::unordered_map&lt; std::size_t, std::size_t &gt; n;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> p : r.second) n[ p ] = <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( <a class="code" href="classinciter_1_1_partitioner.html#a263b8cb295ea4e781abd0b29851b9dbf">m_newid</a>, p );</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        Group::thisProxy[ r.first ].neworder( n );</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        n.clear();</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      }</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;      m_req.clear();    <span class="comment">// Clear queue of requests just fulfilled</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;      wait4prep();      <span class="comment">// Re-enable SDAG wait for preparing new node requests</span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;      <span class="comment">// Re-enable trigger signaling that reordering of owned node IDs are</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      <span class="comment">// complete right away</span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      trigger_reorderowned_complete();</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    }</div><div class="ttc" id="namespacetk_html_a2e002561a68875b091a264eb2a1e5f6c"><div class="ttname"><a href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a></div><div class="ttdeci">auto cref_find(const Container &amp;map, const typename Container::key_type &amp;key) -&gt; const typename Container::mapped_type &amp;</div><div class="ttdef"><b>Definition:</b> <a href="_container_util_8h_source.html#l00040">ContainerUtil.h:40</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ae4ac250214fbae307f1d15d170bab0a1"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ae4ac250214fbae307f1d15d170bab0a1">inciter::Partitioner::m_req</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; int, std::set&lt; std::size_t &gt; &gt; &gt; m_req</div><div class="ttdoc">Queue of requested node IDs from PEs. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00348">Partitioner.h:348</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a263b8cb295ea4e781abd0b29851b9dbf"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a263b8cb295ea4e781abd0b29851b9dbf">inciter::Partitioner::m_newid</a></div><div class="ttdeci">std::unordered_map&lt; std::size_t, std::size_t &gt; m_newid</div><div class="ttdoc">Map associating new node IDs (as in producing contiguous-row-id linear system contributions) to old n...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00403">Partitioner.h:403</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_afe58d4fc6a9ecabf3448b3b7fe1e1f35_cgraph.svg" width="288" height="50"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7b9ec47eef76e0a7b8a684616326be09"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::query </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::size_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Query our global node IDs by other PEs so they know if they receive IDs for those from during reordering. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pe</td><td>Querying PE </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>Vector of global mesh node IDs to query</td></tr>
  </table>
  </dd>
</dl>
<p>Note that every PE calls this function in a broadcast fashion, including our own. However, to compute the correct result, this would only be necessary for PEs whose ID is higher than ours. However, the broadcast (calling everyone) is more efficient. Because of this we only do the query for higher PEs here but return a mask to all callers. This also results in a simpler logic, because every PE goes through this single call path. The returned mask is simply a boolean array signaling if the node ID is found (owned). </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00279">279</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>References <a class="el" href="_partitioner_8h_source.html#l00400">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_sid</a>, and <a class="el" href="_partitioner_8h_source.html#l00627">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::pe()</a>.</p>
<div class="fragment"><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                                                           {</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      std::vector&lt; int &gt; own( <span class="keywordtype">id</span>.size(), 0 );</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classinciter_1_1_partitioner.html#ae910cfcec84dc903e4245f046b2acf3c">pe</a> &gt; CkMyPe()) {</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="keywordflow">for</span> (std::size_t i=0; i&lt;<span class="keywordtype">id</span>.size(); ++i) {</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;          <span class="keyword">const</span> <span class="keyword">auto</span> it = <a class="code" href="classinciter_1_1_partitioner.html#ad13da23201c5cd9eaf0c7a4d60d57b09">m_sid</a>.find( <span class="keywordtype">id</span>[i] );</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;          <span class="keywordflow">if</span> (it != <a class="code" href="namespacekw.html#a3d5542e9817eb16f871c22a15595e837">end</a>(<a class="code" href="classinciter_1_1_partitioner.html#ad13da23201c5cd9eaf0c7a4d60d57b09">m_sid</a>)) own[i] = 1;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        }</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      }</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      Group::thisProxy[ <a class="code" href="classinciter_1_1_partitioner.html#ae910cfcec84dc903e4245f046b2acf3c">pe</a> ].mask( CkMyPe(), own );</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_ae910cfcec84dc903e4245f046b2acf3c"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ae910cfcec84dc903e4245f046b2acf3c">inciter::Partitioner::pe</a></div><div class="ttdeci">int pe(int id) const </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00627">Partitioner.h:627</a></div></div>
<div class="ttc" id="namespacekw_html_a3d5542e9817eb16f871c22a15595e837"><div class="ttname"><a href="namespacekw.html#a3d5542e9817eb16f871c22a15595e837">kw::end</a></div><div class="ttdeci">keyword&lt; end_info, e, n, d &gt; end</div><div class="ttdef"><b>Definition:</b> <a href="_keywords_8h_source.html#l00174">Keywords.h:174</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ad13da23201c5cd9eaf0c7a4d60d57b09"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ad13da23201c5cd9eaf0c7a4d60d57b09">inciter::Partitioner::m_sid</a></div><div class="ttdeci">std::unordered_set&lt; std::size_t &gt; m_sid</div><div class="ttdoc">Global mesh node IDs associated in hash set. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00400">Partitioner.h:400</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_a7b9ec47eef76e0a7b8a684616326be09_cgraph.svg" width="352" height="50"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a884d00574a0ad67a46bdc40f4bbe16de"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::readGraph </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classtk_1_1_exodus_i_i_mesh_reader.html">tk::ExodusIIMeshReader</a> &amp;&#160;</td>
          <td class="paramname"><em>er</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Read our contiguously-numbered chunk of the mesh graph from file </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">er</td><td>ExodusII mesh reader </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00417">417</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>References <a class="el" href="_exodus_i_i_mesh_reader_8_c_source.html#l00395">tk::ExodusIIMeshReader::nel()</a>, <a class="el" href="_exodus_i_i_mesh_reader_8_c_source.html#l00177">tk::ExodusIIMeshReader::readElemBlockIDs()</a>, <a class="el" href="_exodus_i_i_mesh_reader_8_c_source.html#l00311">tk::ExodusIIMeshReader::readElements()</a>, <a class="el" href="_partitioner_8h_source.html#l00765">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::signal2host_graph_complete()</a>, and <a class="el" href="_gmsh_mesh_i_o_8h_source.html#l00019">tk::TET</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00125">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::Partitioner()</a>.</p>
<div class="fragment"><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                                               {</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      <span class="comment">// Get number of mesh points and number of tetrahedron elements in file</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      er.<a class="code" href="classtk_1_1_exodus_i_i_mesh_reader.html#afe8144814a95bbb94d87e04091042918">readElemBlockIDs</a>();</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      <span class="keyword">auto</span> nel = er.<a class="code" href="classtk_1_1_exodus_i_i_mesh_reader.html#a0f99c21fb38514768b1032e9bea1db5b">nel</a>( <a class="code" href="namespacetk.html#a85016961456a798f65e4e5a451e44242a07275767cefe376134a81905435410c1">tk::ExoElemType::TET</a> );</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      <span class="comment">// Read our contiguously-numbered chunk of tetrahedron element</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      <span class="comment">// connectivity from file and also generate and store the list of global</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;      <span class="comment">// element indices for our chunk of the mesh</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      <span class="keyword">auto</span> chunk = nel / CkNumPes();</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      <span class="keyword">auto</span> from = CkMyPe() * chunk;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      <span class="keyword">auto</span> till = from + chunk;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      <span class="keywordflow">if</span> (CkMyPe() == CkNumPes()-1) till += nel % CkNumPes();</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      std::array&lt; std::size_t, 2 &gt; ext = { {<span class="keyword">static_cast&lt;</span>std::size_t<span class="keyword">&gt;</span>(from),</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                                            static_cast&lt;std::size_t&gt;(till-1)} };</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      er.<a class="code" href="classtk_1_1_exodus_i_i_mesh_reader.html#a58514f277e72899f14211e2b2f371e87">readElements</a>( ext, <a class="code" href="namespacetk.html#a85016961456a798f65e4e5a451e44242a07275767cefe376134a81905435410c1">tk::ExoElemType::TET</a>, <a class="code" href="classinciter_1_1_partitioner.html#a5806bb29e562563fce2f233ae7b2e81d">m_tetinpoel</a> );</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#ae252cbd5790b69eaa6e4db451f188bfb">m_gelemid</a>.resize( static_cast&lt;std::size_t&gt;(till-from) );</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      std::iota( begin(<a class="code" href="classinciter_1_1_partitioner.html#ae252cbd5790b69eaa6e4db451f188bfb">m_gelemid</a>), <a class="code" href="namespacekw.html#a3d5542e9817eb16f871c22a15595e837">end</a>(<a class="code" href="classinciter_1_1_partitioner.html#ae252cbd5790b69eaa6e4db451f188bfb">m_gelemid</a>), from );</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a8a204484c54006569d917a44ef4dead8">signal2host_graph_complete</a>( <a class="code" href="classinciter_1_1_partitioner.html#a86f839bf419fe22d2cddcb9865cc2205">m_host</a>, <a class="code" href="classinciter_1_1_partitioner.html#ae252cbd5790b69eaa6e4db451f188bfb">m_gelemid</a>.size() );</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    }</div><div class="ttc" id="namespacetk_html_a85016961456a798f65e4e5a451e44242a07275767cefe376134a81905435410c1"><div class="ttname"><a href="namespacetk.html#a85016961456a798f65e4e5a451e44242a07275767cefe376134a81905435410c1">tk::TET</a></div><div class="ttdef"><b>Definition:</b> <a href="_gmsh_mesh_i_o_8h_source.html#l00019">GmshMeshIO.h:19</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a8a204484c54006569d917a44ef4dead8"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a8a204484c54006569d917a44ef4dead8">inciter::Partitioner::signal2host_graph_complete</a></div><div class="ttdeci">void signal2host_graph_complete(const CProxy_Conductor &amp;host, uint64_t nelem)</div><div class="ttdoc">Signal back to host that we have done our part of reading the mesh graph. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00765">Partitioner.h:765</a></div></div>
<div class="ttc" id="classtk_1_1_exodus_i_i_mesh_reader_html_a0f99c21fb38514768b1032e9bea1db5b"><div class="ttname"><a href="classtk_1_1_exodus_i_i_mesh_reader.html#a0f99c21fb38514768b1032e9bea1db5b">tk::ExodusIIMeshReader::nel</a></div><div class="ttdeci">int nel(tk::ExoElemType elemtype) const </div><div class="ttdoc">Return number of elements in a mesh block in the ExodusII file. </div><div class="ttdef"><b>Definition:</b> <a href="_exodus_i_i_mesh_reader_8_c_source.html#l00395">ExodusIIMeshReader.C:395</a></div></div>
<div class="ttc" id="classtk_1_1_exodus_i_i_mesh_reader_html_afe8144814a95bbb94d87e04091042918"><div class="ttname"><a href="classtk_1_1_exodus_i_i_mesh_reader.html#afe8144814a95bbb94d87e04091042918">tk::ExodusIIMeshReader::readElemBlockIDs</a></div><div class="ttdeci">std::size_t readElemBlockIDs()</div><div class="ttdoc">Read element block IDs from file. </div><div class="ttdef"><b>Definition:</b> <a href="_exodus_i_i_mesh_reader_8_c_source.html#l00177">ExodusIIMeshReader.C:177</a></div></div>
<div class="ttc" id="namespacekw_html_a3d5542e9817eb16f871c22a15595e837"><div class="ttname"><a href="namespacekw.html#a3d5542e9817eb16f871c22a15595e837">kw::end</a></div><div class="ttdeci">keyword&lt; end_info, e, n, d &gt; end</div><div class="ttdef"><b>Definition:</b> <a href="_keywords_8h_source.html#l00174">Keywords.h:174</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a5806bb29e562563fce2f233ae7b2e81d"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a5806bb29e562563fce2f233ae7b2e81d">inciter::Partitioner::m_tetinpoel</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; m_tetinpoel</div><div class="ttdoc">Tetrtahedron element connectivity of our chunk of the mesh. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00365">Partitioner.h:365</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ae252cbd5790b69eaa6e4db451f188bfb"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ae252cbd5790b69eaa6e4db451f188bfb">inciter::Partitioner::m_gelemid</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; m_gelemid</div><div class="ttdoc">Global element IDs we read (our chunk of the mesh) </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00367">Partitioner.h:367</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a86f839bf419fe22d2cddcb9865cc2205"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a86f839bf419fe22d2cddcb9865cc2205">inciter::Partitioner::m_host</a></div><div class="ttdeci">HostProxy m_host</div><div class="ttdoc">Host proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00340">Partitioner.h:340</a></div></div>
<div class="ttc" id="classtk_1_1_exodus_i_i_mesh_reader_html_a58514f277e72899f14211e2b2f371e87"><div class="ttname"><a href="classtk_1_1_exodus_i_i_mesh_reader.html#a58514f277e72899f14211e2b2f371e87">tk::ExodusIIMeshReader::readElements</a></div><div class="ttdeci">void readElements(const std::array&lt; std::size_t, 2 &gt; &amp;extent, tk::ExoElemType elemtype, std::vector&lt; std::size_t &gt; &amp;conn) const </div><div class="ttdoc">Read element connectivity of a number of mesh cells from file. </div><div class="ttdef"><b>Definition:</b> <a href="_exodus_i_i_mesh_reader_8_c_source.html#l00311">ExodusIIMeshReader.C:311</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_a884d00574a0ad67a46bdc40f4bbe16de_cgraph.svg" width="100%" height="458"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a07dd9baf853b2827a2861a3ffc2cef68"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::recv </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Acknowledge received node IDs. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00242">242</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>References <a class="el" href="_partitioner_8h_source.html#l00547">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::flatten()</a>, <a class="el" href="_partitioner_8h_source.html#l00346">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_npe</a>, and <a class="el" href="_partitioner_8h_source.html#l00620">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::recvnodes()</a>.</p>
<div class="fragment"><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                {</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      --<a class="code" href="classinciter_1_1_partitioner.html#a63d455d5c78d6291abaff7a58dd5398d">m_npe</a>;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classinciter_1_1_partitioner.html#ad86702672127c44131db862907418b18">recvnodes</a>()) <a class="code" href="classinciter_1_1_partitioner.html#ac5d8fc6bfcf39a2a4bf7414df3a8fff8">flatten</a>();</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a63d455d5c78d6291abaff7a58dd5398d"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a63d455d5c78d6291abaff7a58dd5398d">inciter::Partitioner::m_npe</a></div><div class="ttdeci">std::size_t m_npe</div><div class="ttdoc">Number of fellow PEs to send elem IDs to. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00346">Partitioner.h:346</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ac5d8fc6bfcf39a2a4bf7414df3a8fff8"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ac5d8fc6bfcf39a2a4bf7414df3a8fff8">inciter::Partitioner::flatten</a></div><div class="ttdeci">void flatten()</div><div class="ttdoc">Prepare owned mesh node IDs for reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00547">Partitioner.h:547</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ad86702672127c44131db862907418b18"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ad86702672127c44131db862907418b18">inciter::Partitioner::recvnodes</a></div><div class="ttdeci">bool recvnodes() const </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00620">Partitioner.h:620</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_a07dd9baf853b2827a2861a3ffc2cef68_cgraph.svg" width="543" height="175"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad86702672127c44131db862907418b18"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::recvnodes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Test if all fellow PEs have received my node IDs contributions </p><dl class="section return"><dt>Returns</dt><dd>True if all fellow PEs have received what I have sent them </dd></dl>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00620">620</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00520">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::distribute()</a>, and <a class="el" href="_partitioner_8h_source.html#l00242">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::recv()</a>.</p>
<div class="fragment"><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classinciter_1_1_partitioner.html#a63d455d5c78d6291abaff7a58dd5398d">m_npe</a> == 0; }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a63d455d5c78d6291abaff7a58dd5398d"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a63d455d5c78d6291abaff7a58dd5398d">inciter::Partitioner::m_npe</a></div><div class="ttdeci">std::size_t m_npe</div><div class="ttdoc">Number of fellow PEs to send elem IDs to. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00346">Partitioner.h:346</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae6d964a5217ec2a9f48440343b04842e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::reorder </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reorder global mesh node IDs. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00579">579</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>References <a class="el" href="_partitioner_8h_source.html#l00350">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_reordered</a>, and <a class="el" href="_partitioner_8h_source.html#l00657">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::reordered()</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00199">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::offset()</a>.</p>
<div class="fragment"><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                   {</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      <span class="comment">// Activate SDAG waits for completing the reordering of our node IDs and</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      <span class="comment">// for having requests arrive from other PEs for some of our node IDs; and</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      <span class="comment">// for computing/receiving lower and upper bounds of global node IDs our</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      <span class="comment">// PE operates on after reordering</span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      wait4prep();</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      wait4bounds();</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      <span class="comment">// In serial signal to the runtime system that we have participated in</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      <span class="comment">// reordering. This is required here because this is only triggered if</span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      <span class="comment">// communication is required during mesh node reordering. See also</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      <span class="comment">// particioner.ci.</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      <span class="keywordflow">if</span> (CkNumPes() == 1) trigger_participated();</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      <span class="comment">// Send out request for new global node IDs for nodes we do not reorder</span></div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; c : <a class="code" href="classinciter_1_1_partitioner.html#ad892002917e3abe8197a03a6fa9c1729">m_communication</a>)</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        Group::thisProxy[ c.first ].request( CkMyPe(), c.second );</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      <span class="comment">// Lambda to decide if node ID is being assigned a new ID by us</span></div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;      <span class="keyword">auto</span> own = [ this ]( std::size_t p ) {</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        <span class="keyword">using</span> Set = <span class="keyword">typename</span> std::remove_reference&lt;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                      decltype(m_communication) &gt;::type::value_type;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <span class="keywordflow">return</span> !std::any_of( m_communication.cbegin(), m_communication.cend(),</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                             [&amp;](<span class="keyword">const</span> Set&amp; s)</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                             { <span class="keywordflow">return</span> s.second.find(p) != s.second.cend(); } );</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      };</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;      <span class="comment">// Reorder our chunk of the mesh node IDs by looping through all of our</span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      <span class="comment">// node IDs (resulting from reading our chunk of the mesh cells). We test</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;      <span class="comment">// if we are to assign a new ID to a node ID, and if so, we assign new ID,</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;      <span class="comment">// i.e., reorder, by constructing a map associating new to old IDs. We</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      <span class="comment">// also count up the reordered nodes.</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; p : <a class="code" href="classinciter_1_1_partitioner.html#a1b204c2336d0c7bf9d537e1ad76582ff">m_id</a>)</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        <span class="keywordflow">if</span> (own(p)) {           </div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;          <a class="code" href="classinciter_1_1_partitioner.html#a263b8cb295ea4e781abd0b29851b9dbf">m_newid</a>[ p ] = <a class="code" href="classinciter_1_1_partitioner.html#a2752c355fd5be73ed779bdf5d8b5aa75">m_start</a>++;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;          ++<a class="code" href="classinciter_1_1_partitioner.html#aa7f5688e6ba8f266d5feda6921b54646">m_reordered</a>;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        }</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;      <span class="comment">// Trigger SDAG wait, indicating that reordering own node IDs are complete</span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;      trigger_reorderowned_complete();</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;      <span class="comment">// If we have reordered all our nodes, compute and send result to host</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classinciter_1_1_partitioner.html#aa7f5688e6ba8f266d5feda6921b54646">m_reordered</a> == m_id.size()) <a class="code" href="classinciter_1_1_partitioner.html#a16911d97d460bf3d9d8b0a41b89a04df">reordered</a>();</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a16911d97d460bf3d9d8b0a41b89a04df"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a16911d97d460bf3d9d8b0a41b89a04df">inciter::Partitioner::reordered</a></div><div class="ttdeci">void reordered()</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00657">Partitioner.h:657</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a1b204c2336d0c7bf9d537e1ad76582ff"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a1b204c2336d0c7bf9d537e1ad76582ff">inciter::Partitioner::m_id</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; m_id</div><div class="ttdoc">Unique global node IDs chares on our PE will contribute to in a linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00393">Partitioner.h:393</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ad892002917e3abe8197a03a6fa9c1729"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ad892002917e3abe8197a03a6fa9c1729">inciter::Partitioner::m_communication</a></div><div class="ttdeci">std::unordered_map&lt; int, std::set&lt; std::size_t &gt; &gt; m_communication</div><div class="ttdoc">Communication map used for distributed mesh node reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00390">Partitioner.h:390</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a263b8cb295ea4e781abd0b29851b9dbf"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a263b8cb295ea4e781abd0b29851b9dbf">inciter::Partitioner::m_newid</a></div><div class="ttdeci">std::unordered_map&lt; std::size_t, std::size_t &gt; m_newid</div><div class="ttdoc">Map associating new node IDs (as in producing contiguous-row-id linear system contributions) to old n...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00403">Partitioner.h:403</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_aa7f5688e6ba8f266d5feda6921b54646"><div class="ttname"><a href="classinciter_1_1_partitioner.html#aa7f5688e6ba8f266d5feda6921b54646">inciter::Partitioner::m_reordered</a></div><div class="ttdeci">std::size_t m_reordered</div><div class="ttdoc">Number of mesh nodes reordered. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00350">Partitioner.h:350</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a2752c355fd5be73ed779bdf5d8b5aa75"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a2752c355fd5be73ed779bdf5d8b5aa75">inciter::Partitioner::m_start</a></div><div class="ttdeci">std::size_t m_start</div><div class="ttdoc">Starting global mesh node ID for node reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00352">Partitioner.h:352</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_ae6d964a5217ec2a9f48440343b04842e_cgraph.svg" width="100%" height="374"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a16911d97d460bf3d9d8b0a41b89a04df"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::reordered </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Compute final result of reordering and send it back to host</p>
<p>This member function is called when both those node IDs that we assign a new ordering to as well as those assigned new IDs by other PEs have been reordered (and we contribute to) and we are ready (on this PE) to compute our final result of the reordering and send it back to the host. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00657">657</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>References <a class="el" href="_partitioner_8h_source.html#l00690">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::bounds()</a>, and <a class="el" href="_container_util_8h_source.html#l00040">tk::cref_find()</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00216">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::neworder()</a>, and <a class="el" href="_partitioner_8h_source.html#l00579">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::reorder()</a>.</p>
<div class="fragment"><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                     {</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;      <span class="comment">// Construct maps associating old node IDs (as in file) to new node IDs</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;      <span class="comment">// (as in producing contiguous-row-id linear system contributions)</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;      <span class="comment">// associated to chare IDs (outer key). This is basically the inverse of</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;      <span class="comment">// m_newid and categorized by chares. Note that m_node at this point still</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      <span class="comment">// contains the old global node IDs the chares contribute to.</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; c : <a class="code" href="classinciter_1_1_partitioner.html#ae1948f891e6c93b6e151c774aa559699">m_node</a>) {</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        <span class="keyword">auto</span>&amp; m = <a class="code" href="classinciter_1_1_partitioner.html#aaf4c43cb76be8a76db40a73a44c66d10">m_chcid</a>[ c.first ];</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> p : c.second) m[ <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>(<a class="code" href="classinciter_1_1_partitioner.html#a263b8cb295ea4e781abd0b29851b9dbf">m_newid</a>,p) ] = p;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      }</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;      <span class="comment">// Update our chare ID maps to now contain the new global node IDs</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;      <span class="comment">// instead of the old ones</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; c : m_node)</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; p : c.second)</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;          p = <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( <a class="code" href="classinciter_1_1_partitioner.html#a263b8cb295ea4e781abd0b29851b9dbf">m_newid</a>, p );</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      <span class="comment">// Update unique global node IDs of chares our PE will contribute to the</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      <span class="comment">// new IDs resulting from reordering</span></div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; p : <a class="code" href="classinciter_1_1_partitioner.html#a1b204c2336d0c7bf9d537e1ad76582ff">m_id</a>) p = <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( <a class="code" href="classinciter_1_1_partitioner.html#a263b8cb295ea4e781abd0b29851b9dbf">m_newid</a>, p );</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      <span class="comment">// Compute lower and upper bounds of reordered node IDs our PE operates on</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a126f83464b8629f87e300b79aba14844">bounds</a>();</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a126f83464b8629f87e300b79aba14844"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a126f83464b8629f87e300b79aba14844">inciter::Partitioner::bounds</a></div><div class="ttdeci">void bounds()</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00690">Partitioner.h:690</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a1b204c2336d0c7bf9d537e1ad76582ff"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a1b204c2336d0c7bf9d537e1ad76582ff">inciter::Partitioner::m_id</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; m_id</div><div class="ttdoc">Unique global node IDs chares on our PE will contribute to in a linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00393">Partitioner.h:393</a></div></div>
<div class="ttc" id="namespacetk_html_a2e002561a68875b091a264eb2a1e5f6c"><div class="ttname"><a href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a></div><div class="ttdeci">auto cref_find(const Container &amp;map, const typename Container::key_type &amp;key) -&gt; const typename Container::mapped_type &amp;</div><div class="ttdef"><b>Definition:</b> <a href="_container_util_8h_source.html#l00040">ContainerUtil.h:40</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_aaf4c43cb76be8a76db40a73a44c66d10"><div class="ttname"><a href="classinciter_1_1_partitioner.html#aaf4c43cb76be8a76db40a73a44c66d10">inciter::Partitioner::m_chcid</a></div><div class="ttdeci">std::unordered_map&lt; int, std::unordered_map&lt; std::size_t, std::size_t &gt; &gt; m_chcid</div><div class="ttdoc">Maps associating old node IDs to new node IDs categorized by chares. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00411">Partitioner.h:411</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ae1948f891e6c93b6e151c774aa559699"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ae1948f891e6c93b6e151c774aa559699">inciter::Partitioner::m_node</a></div><div class="ttdeci">std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt; m_node</div><div class="ttdoc">Global mesh node ids associated to chares owned. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00380">Partitioner.h:380</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a263b8cb295ea4e781abd0b29851b9dbf"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a263b8cb295ea4e781abd0b29851b9dbf">inciter::Partitioner::m_newid</a></div><div class="ttdeci">std::unordered_map&lt; std::size_t, std::size_t &gt; m_newid</div><div class="ttdoc">Map associating new node IDs (as in producing contiguous-row-id linear system contributions) to old n...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00403">Partitioner.h:403</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_a16911d97d460bf3d9d8b0a41b89a04df_cgraph.svg" width="511" height="99"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a90a91e736ee0d6cdcd50311393c9fa8e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::request </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::set&lt; std::size_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Request new global node IDs for old node IDs </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pe</td><td>PE request coming from and to which we send new IDs to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>Set of old node IDs whose new IDs are requested </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00207">207</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>References <a class="el" href="_partitioner_8h_source.html#l00348">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_req</a>, and <a class="el" href="_partitioner_8h_source.html#l00627">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::pe()</a>.</p>
<div class="fragment"><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                                                          {</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      <span class="comment">// Queue up requesting PE and node IDs</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#ae4ac250214fbae307f1d15d170bab0a1">m_req</a>.push_back( { <a class="code" href="classinciter_1_1_partitioner.html#ae910cfcec84dc903e4245f046b2acf3c">pe</a>, <span class="keywordtype">id</span> } );</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      <span class="comment">// Trigger SDAG wait, signaling that node IDs have been requested from us</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      trigger_nodes_requested();</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_ae910cfcec84dc903e4245f046b2acf3c"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ae910cfcec84dc903e4245f046b2acf3c">inciter::Partitioner::pe</a></div><div class="ttdeci">int pe(int id) const </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00627">Partitioner.h:627</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ae4ac250214fbae307f1d15d170bab0a1"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ae4ac250214fbae307f1d15d170bab0a1">inciter::Partitioner::m_req</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; int, std::set&lt; std::size_t &gt; &gt; &gt; m_req</div><div class="ttdoc">Queue of requested node IDs from PEs. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00348">Partitioner.h:348</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_a90a91e736ee0d6cdcd50311393c9fa8e_cgraph.svg" width="352" height="50"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7c9ce4cfec526a9d4a4fa5933f332721"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::signal2host_avecost </td>
          <td>(</td>
          <td class="paramtype">const CProxy_Conductor &amp;&#160;</td>
          <td class="paramname"><em>host</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Compute average communication cost of merging the linear system</p>
<p>This is done via a Charm++ typed reduction, adding up the cost across all PEs and reducing the result to our host chare. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00773">773</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>References <a class="el" href="_partitioner_8h_source.html#l00754">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::cost()</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00722">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                                                             {</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a7e3d094bcef64d418235469aa47d137f">m_cost</a> = <a class="code" href="classinciter_1_1_partitioner.html#ab0c9d7f7df5c42c589e6b0761a999f54">cost</a>( <a class="code" href="classinciter_1_1_partitioner.html#a3cf4e2d3a24417b4e62584a33fba5fe4">m_lower</a>, <a class="code" href="classinciter_1_1_partitioner.html#a23b0258af4481dd9896ba103a5d23326">m_upper</a> );</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;      Group::contribute( <span class="keyword">sizeof</span>(<a class="code" href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575">tk::real</a>), &amp;<a class="code" href="classinciter_1_1_partitioner.html#a7e3d094bcef64d418235469aa47d137f">m_cost</a>, CkReduction::sum_double,</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                         CkCallback( CkReductionTarget(Conductor,aveCost),</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                         host ));</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a7e3d094bcef64d418235469aa47d137f"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a7e3d094bcef64d418235469aa47d137f">inciter::Partitioner::m_cost</a></div><div class="ttdeci">tk::real m_cost</div><div class="ttdoc">Communication cost of linear system merging for our PE. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00413">Partitioner.h:413</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a23b0258af4481dd9896ba103a5d23326"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a23b0258af4481dd9896ba103a5d23326">inciter::Partitioner::m_upper</a></div><div class="ttdeci">std::size_t m_upper</div><div class="ttdoc">Upper bound of node IDs our PE operates on after reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00375">Partitioner.h:375</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ab0c9d7f7df5c42c589e6b0761a999f54"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ab0c9d7f7df5c42c589e6b0761a999f54">inciter::Partitioner::cost</a></div><div class="ttdeci">tk::real cost(std::size_t lower, std::size_t upper)</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00754">Partitioner.h:754</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a3cf4e2d3a24417b4e62584a33fba5fe4"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a3cf4e2d3a24417b4e62584a33fba5fe4">inciter::Partitioner::m_lower</a></div><div class="ttdeci">std::size_t m_lower</div><div class="ttdoc">Lower bound of node IDs our PE operates on after reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00373">Partitioner.h:373</a></div></div>
<div class="ttc" id="namespacetk_html_a1a96ada94b7e2911ecca0a360f305575"><div class="ttname"><a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575">tk::real</a></div><div class="ttdeci">double real</div><div class="ttdoc">Real number type used throughout the whole code. </div><div class="ttdef"><b>Definition:</b> <a href="_base_2_types_8h_source.html#l00018">Types.h:18</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_a7c9ce4cfec526a9d4a4fa5933f332721_cgraph.svg" width="352" height="50"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="aed8c5c5a41ca8b3e608a2d678d0bc74f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::signal2host_flattened </td>
          <td>(</td>
          <td class="paramtype">const CProxy_Conductor &amp;&#160;</td>
          <td class="paramname"><em>host</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Signal host that we are ready for computing the communication map, required for parallel distributed global mesh node reordering. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00798">798</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00547">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::flatten()</a>.</p>
<div class="fragment"><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                                                               {</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;      Group::contribute(</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        CkCallback(CkIndex_Conductor::redn_wrapper_flattened(NULL), host ));</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8a204484c54006569d917a44ef4dead8"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::signal2host_graph_complete </td>
          <td>(</td>
          <td class="paramtype">const CProxy_Conductor &amp;&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>nelem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Signal back to host that we have done our part of reading the mesh graph. </p>
<p>Signaling back is done via a Charm++ typed reduction, which also computes the sum of the number of mesh cells our PE operates on. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00765">765</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00417">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::readGraph()</a>.</p>
<div class="fragment"><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                                                      {</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;      Group::contribute(<span class="keyword">sizeof</span>(uint64_t), &amp;nelem, CkReduction::sum_int,</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                        CkCallback( CkReductionTarget(Conductor,load), host ));</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8930fb7b1b3f0986affa070bbfdee1fd"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::signal2host_setup_complete </td>
          <td>(</td>
          <td class="paramtype">const CProxy_Conductor &amp;&#160;</td>
          <td class="paramname"><em>host</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Signal back to host that we are ready for partitioning the mesh. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00792">792</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00438">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::computeCentroids()</a>, and <a class="el" href="_partitioner_8h_source.html#l00125">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::Partitioner()</a>.</p>
<div class="fragment"><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                                                                    {</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;      Group::contribute(</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        CkCallback(CkIndex_Conductor::redn_wrapper_partition(NULL), host ));</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa750f84166a26d87faa86ab1e96711b8"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::signal2host_stdcost </td>
          <td>(</td>
          <td class="paramtype">const CProxy_Conductor &amp;&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575">tk::real</a>&#160;</td>
          <td class="paramname"><em>var</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute standard deviation of the communication cost of merging the linear system. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">var</td><td>Square of the communication cost minus the average for our PE.</td></tr>
  </table>
  </dd>
</dl>
<p>This is done via a Charm++ typed reduction, adding up the squares of the communication cost minus the average across all PEs and reducing the result to our host chare. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00786">786</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>References <a class="el" href="_partitioner_8h_source.html#l00260">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::stdCost()</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00260">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::stdCost()</a>.</p>
<div class="fragment"><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                                                                         {</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;      Group::contribute( <span class="keyword">sizeof</span>(<a class="code" href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575">tk::real</a>), &amp;var, CkReduction::sum_double,</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                         CkCallback( CkReductionTarget(Conductor,<a class="code" href="classinciter_1_1_partitioner.html#aec25b4cd2e43a0232f2864dc5e79979d">stdCost</a>),</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                         host ));</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_aec25b4cd2e43a0232f2864dc5e79979d"><div class="ttname"><a href="classinciter_1_1_partitioner.html#aec25b4cd2e43a0232f2864dc5e79979d">inciter::Partitioner::stdCost</a></div><div class="ttdeci">void stdCost(tk::real av)</div><div class="ttdoc">Compute the variance of the communication cost of merging the linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00260">Partitioner.h:260</a></div></div>
<div class="ttc" id="namespacetk_html_a1a96ada94b7e2911ecca0a360f305575"><div class="ttname"><a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575">tk::real</a></div><div class="ttdeci">double real</div><div class="ttdoc">Real number type used throughout the whole code. </div><div class="ttdef"><b>Definition:</b> <a href="_base_2_types_8h_source.html#l00018">Types.h:18</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_aa750f84166a26d87faa86ab1e96711b8_cgraph.svg" width="350" height="50"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="aec25b4cd2e43a0232f2864dc5e79979d"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::stdCost </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575">tk::real</a>&#160;</td>
          <td class="paramname"><em>av</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute the variance of the communication cost of merging the linear system. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">av</td><td>Average of the communication cost</td></tr>
  </table>
  </dd>
</dl>
<p>Computing the standard deviation is done via computing and summing up the variances on each PE and asynchronously reducing the sum to our host. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00260">260</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>References <a class="el" href="_partitioner_8h_source.html#l00413">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_cost</a>, <a class="el" href="_partitioner_8h_source.html#l00340">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_host</a>, and <a class="el" href="_partitioner_8h_source.html#l00786">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::signal2host_stdcost()</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00786">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::signal2host_stdcost()</a>.</p>
<div class="fragment"><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    { <a class="code" href="classinciter_1_1_partitioner.html#aa750f84166a26d87faa86ab1e96711b8">signal2host_stdcost</a>( <a class="code" href="classinciter_1_1_partitioner.html#a86f839bf419fe22d2cddcb9865cc2205">m_host</a>, (<a class="code" href="classinciter_1_1_partitioner.html#a7e3d094bcef64d418235469aa47d137f">m_cost</a>-av)*(<a class="code" href="classinciter_1_1_partitioner.html#a7e3d094bcef64d418235469aa47d137f">m_cost</a>-av) ); }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a7e3d094bcef64d418235469aa47d137f"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a7e3d094bcef64d418235469aa47d137f">inciter::Partitioner::m_cost</a></div><div class="ttdeci">tk::real m_cost</div><div class="ttdoc">Communication cost of linear system merging for our PE. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00413">Partitioner.h:413</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_aa750f84166a26d87faa86ab1e96711b8"><div class="ttname"><a href="classinciter_1_1_partitioner.html#aa750f84166a26d87faa86ab1e96711b8">inciter::Partitioner::signal2host_stdcost</a></div><div class="ttdeci">void signal2host_stdcost(const CProxy_Conductor &amp;host, tk::real var)</div><div class="ttdoc">Compute standard deviation of the communication cost of merging the linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00786">Partitioner.h:786</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a86f839bf419fe22d2cddcb9865cc2205"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a86f839bf419fe22d2cddcb9865cc2205">inciter::Partitioner::m_host</a></div><div class="ttdeci">HostProxy m_host</div><div class="ttdoc">Host proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00340">Partitioner.h:340</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_aec25b4cd2e43a0232f2864dc5e79979d_cgraph.svg" width="350" height="50"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a8190f392a7d9244aef19bc2576863139"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::array&lt; std::vector&lt; <a class="el" href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575">tk::real</a> &gt;, 3 &gt; <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_centroid</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Element centroid coordinates of our chunk of the mesh. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00369">369</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00169">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::partition()</a>.</p>

</div>
</div>
<a class="anchor" id="aaf4c43cb76be8a76db40a73a44c66d10"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt; int, std::unordered_map&lt; std::size_t, std::size_t &gt; &gt; <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_chcid</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Maps associating old node IDs to new node IDs categorized by chares. </p>
<p>Maps associating old node IDs (as in file) to new node IDs (as in producing contiguous-row-id linear system contributions) associated to chare IDs (outer key). This is basically the inverse of m_newid and categorized by chares. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00411">411</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac511a8a1c691ceef833c17077d1b822a"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; int, std::set&lt; std::size_t &gt; &gt; <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_comm</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Temporary communication map used to receive global mesh node IDs. </p>
<p>This is an ordered map, as that facilitates making the node IDs unique, storing only the lowest associated PE, efficient. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00384">384</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00299">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::mask()</a>.</p>

</div>
</div>
<a class="anchor" id="ad892002917e3abe8197a03a6fa9c1729"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt; int, std::set&lt; std::size_t &gt; &gt; <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_communication</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Communication map used for distributed mesh node reordering. </p>
<p>This map, on each PE, associates the list of global mesh point indices to fellow PE IDs from which we will receive new node IDs during reordering. Only data that will be received from PEs with a lower index are stored. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00390">390</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00299">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::mask()</a>.</p>

</div>
</div>
<a class="anchor" id="a7e3d094bcef64d418235469aa47d137f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575">tk::real</a> <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_cost</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Communication cost of linear system merging for our PE. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00413">413</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00260">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::stdCost()</a>.</p>

</div>
</div>
<a class="anchor" id="ae252cbd5790b69eaa6e4db451f188bfb"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::size_t &gt; <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_gelemid</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Global element IDs we read (our chunk of the mesh) </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00367">367</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00169">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::partition()</a>.</p>

</div>
</div>
<a class="anchor" id="a86f839bf419fe22d2cddcb9865cc2205"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">HostProxy <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_host</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Host proxy. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00340">340</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00125">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::Partitioner()</a>, and <a class="el" href="_partitioner_8h_source.html#l00260">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::stdCost()</a>.</p>

</div>
</div>
<a class="anchor" id="a1b204c2336d0c7bf9d537e1ad76582ff"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::size_t &gt; <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_id</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unique global node IDs chares on our PE will contribute to in a linear system. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00393">393</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00265">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::gather()</a>, <a class="el" href="_partitioner_8h_source.html#l00299">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::mask()</a>, and <a class="el" href="_partitioner_8h_source.html#l00216">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::neworder()</a>.</p>

</div>
</div>
<a class="anchor" id="a7fcf4a11bfd78126303fb2fe8f7c3bd3"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">LinSysMergerProxy <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_linsysmerger</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Linear system merger proxy. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00344">344</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3cf4e2d3a24417b4e62584a33fba5fe4"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_lower</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Lower bound of node IDs our PE operates on after reordering. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00373">373</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00249">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::lower()</a>.</p>

</div>
</div>
<a class="anchor" id="a29890eb55e8302458489583b6af9d023"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_nchare</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Total number of chares across all PEs. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00371">371</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00169">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::partition()</a>.</p>

</div>
</div>
<a class="anchor" id="a263b8cb295ea4e781abd0b29851b9dbf"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt; std::size_t, std::size_t &gt; <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_newid</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Map associating new node IDs (as in producing contiguous-row-id linear system contributions) to old node IDs (as in file) </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00403">403</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00216">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::neworder()</a>.</p>

</div>
</div>
<a class="anchor" id="ae1948f891e6c93b6e151c774aa559699"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt; <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_node</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Global mesh node ids associated to chares owned. </p>
<p>Before reordering this map stores (old) global mesh node IDs corresponding to the ordering as in the mesh file. After reordering it stores the (new) global node IDs the chares contribute to. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00380">380</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00228">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::add()</a>.</p>

</div>
</div>
<a class="anchor" id="ace7332dc69bd2f5148dd578726b06e58"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_noffset</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Counter for number of offsets. </p>
<p>This counts the to-be-received node IDs received while computing global mesh node ID offsets for each PE rquired for node reordering later </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00357">357</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00199">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::offset()</a>.</p>

</div>
</div>
<a class="anchor" id="a63d455d5c78d6291abaff7a58dd5398d"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_npe</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of fellow PEs to send elem IDs to. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00346">346</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00242">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::recv()</a>.</p>

</div>
</div>
<a class="anchor" id="abfa959e5fd79961cae2923a1e5b44772"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_nquery</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Counter for number of masks of to-be-received global mesh node IDs received. </p>
<p>This counts the to-be-received node ID masks received while gathering the node IDs that need to be received (instead of uniquely assigned) by each PE </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00363">363</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00299">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::mask()</a>.</p>

</div>
</div>
<a class="anchor" id="aa7f5688e6ba8f266d5feda6921b54646"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_reordered</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of mesh nodes reordered. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00350">350</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00216">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::neworder()</a>, and <a class="el" href="_partitioner_8h_source.html#l00579">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::reorder()</a>.</p>

</div>
</div>
<a class="anchor" id="ae4ac250214fbae307f1d15d170bab0a1"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::pair&lt; int, std::set&lt; std::size_t &gt; &gt; &gt; <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_req</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Queue of requested node IDs from PEs. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00348">348</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00207">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::request()</a>.</p>

</div>
</div>
<a class="anchor" id="ad13da23201c5cd9eaf0c7a4d60d57b09"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_set&lt; std::size_t &gt; <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_sid</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Global mesh node IDs associated in hash set. </p>
<p>These are the same global mesh node IDs as stored in m_id, corresponding to the mesh ordering read from file, i.e., not yet reordered. They are stored in a hash-set to enable constant-in-time search needed by computing the communication maps required for distributed reordering. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00400">400</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00299">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::mask()</a>, and <a class="el" href="_partitioner_8h_source.html#l00279">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::query()</a>.</p>

</div>
</div>
<a class="anchor" id="a2752c355fd5be73ed779bdf5d8b5aa75"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_start</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Starting global mesh node ID for node reordering. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00352">352</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00199">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::offset()</a>.</p>

</div>
</div>
<a class="anchor" id="a5806bb29e562563fce2f233ae7b2e81d"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::size_t &gt; <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_tetinpoel</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tetrtahedron element connectivity of our chunk of the mesh. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00365">365</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00438">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::computeCentroids()</a>, and <a class="el" href="_partitioner_8h_source.html#l00169">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::partition()</a>.</p>

</div>
</div>
<a class="anchor" id="a23b0258af4481dd9896ba103a5d23326"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_upper</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Upper bound of node IDs our PE operates on after reordering. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00375">375</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p>Referenced by <a class="el" href="_partitioner_8h_source.html#l00690">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::bounds()</a>.</p>

</div>
</div>
<a class="anchor" id="a9f27f075c5faad57f8b04473c4756637"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">WorkerProxy <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy &gt;::m_worker</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Worker proxy. </p>

<p>Definition at line <a class="el" href="_partitioner_8h_source.html#l00342">342</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/tmp/q/quinoa/src/Inciter/<a class="el" href="_partitioner_8h_source.html">Partitioner.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceinciter.html">inciter</a></li><li class="navelem"><a class="el" href="classinciter_1_1_partitioner.html">Partitioner</a></li>
    <li class="footer">Generated on Thu Jul 21 2016 04:13:49 for Quinoa by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
